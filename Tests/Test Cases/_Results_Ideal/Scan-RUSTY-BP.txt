begin
directory: rusty
file: rusty/rust.inweb
    Language "Rust" {
    	recognise .rust

    	properties
    		Details: A language for memory-safe coding.
    		Line Comment:               //
    		Multiline Comment Open:     /*
    		Multiline Comment Close:    */
    		String Literal:             "
    		String Literal Escape:      \
    		Character Literal:          '
    		Character Literal Escape:   \
    		Hexadecimal Literal Prefix: 0x
    		Octal Literal Prefix:       0o
    		Binary Literal Prefix:      0b
    		Negative Literal Prefix:    -
    		Decimal Point Infix:        .
    		Exponent Infix:             e
    		Function Declaration: 		/fn (\S+?)\s*\(.*/
    		Type Declaration:  			/enum (\S+?)\s+.*/
    		Type Declaration:  			/struct (\S+?)\s+.*/
    		Type Declaration:  			/type (\S+?)\s+.*/
    		Type Declaration:  			/trait (\S+?)\s+.*/
    	end

    	keywords
    		_ abstract as async await become box break const continue crate do dyn
    		else enum extern final fn for gen if impl in let loop macro macro_rules
    		match mod move mut override priv pub raw ref return safe self Self static struct
    		super trait try type typeof union unsafe unsized use virtual where while
    		yield
    	end

    	keywords of !constant
    		false true
    	end

    	colour !macro like !element

    	keywords of !type
    		i8 i16 i32 i64 i128 u8 u16 u32 u64 u128 f16 f32 f64 f128 bool char str
    	end

    	colouring
    		runs of unquoted {
    			runs of !identifier {
    				keyword of !reserved => !reserved
    				keyword of !constant => !constant
    				keyword of !function => !function
    				keyword of !type => !type
    				suffix "!" => !macro on both
    			}
    			runs of !constant {
    				suffix "i8" => !constant on both
    				suffix "i16" => !constant on both
    				suffix "i32" => !constant on both
    				suffix "i64" => !constant on both
    				suffix "i128" => !constant on both
    				suffix "u8" => !constant on both
    				suffix "u16" => !constant on both
    				suffix "u32" => !constant on both
    				suffix "u64" => !constant on both
    				suffix "u128" => !constant on both
    				suffix "_f16" => !constant on both
    				suffix "_f32" => !constant on both
    				suffix "_f64" => !constant on both
    				suffix "_f128" => !constant on both
    			}
    		}
    	end

    	Conventions {
    		named holons are tangled between <NEWLINE>{<NEWLINE> and }<NEWLINE>
    	}
    }

file: rusty/sample.rust.md
    # Traces of Corrosion

    	fn main() {
    		// Iterate over all integers from 1 to 10
    		let mut n = 1;
    		while n <= 10 {
    			 println!("n = {n} of 10"); /* using a macro */
    			 n += 1;
    		}
    		println!("1e4 is {}, -2.5e-3 is {}", 1e4, -2.5e-3);
    		println!("true is {}, false is {}", true, false);
    		println!("4.5_f64 is {}, 0x3ef5u128 is {}", 4.5_f64, 0x3ef5u128);
    	}
    	
    	enum WebEvent {
    		// An `enum` variant may either be `unit-like`,
    		PageLoad,
    		PageUnload,
    		// like tuple structs,
    		KeyPress(char),
    		Paste(String),
    		// or c-like structures.
    		Click { x: i64, y: i64 },
    	}

    	type Operations = VeryVerboseEnumOfThingsToDoWithNumbers;


end
