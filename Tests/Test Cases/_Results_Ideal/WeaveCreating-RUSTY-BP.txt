begin
directory: rusty
file: rusty/rust.inweb
    Language "Rust" {
    	recognise .rust

    	properties
    		Details: A language for memory-safe coding.
    		Line Comment:               //
    		Multiline Comment Open:     /*
    		Multiline Comment Close:    */
    		String Literal:             "
    		String Literal Escape:      \
    		Character Literal:          '
    		Character Literal Escape:   \
    		Hexadecimal Literal Prefix: 0x
    		Octal Literal Prefix:       0o
    		Binary Literal Prefix:      0b
    		Negative Literal Prefix:    -
    		Decimal Point Infix:        .
    		Exponent Infix:             e
    		Function Declaration: 		/fn (\S+?)\s*\(.*/
    		Type Declaration:  			/enum (\S+?)\s+.*/
    		Type Declaration:  			/struct (\S+?)\s+.*/
    		Type Declaration:  			/type (\S+?)\s+.*/
    		Type Declaration:  			/trait (\S+?)\s+.*/
    	end

    	keywords
    		_ abstract as async await become box break const continue crate do dyn
    		else enum extern final fn for gen if impl in let loop macro macro_rules
    		match mod move mut override priv pub raw ref return safe self Self static struct
    		super trait try type typeof union unsafe unsized use virtual where while
    		yield
    	end

    	keywords of !constant
    		false true
    	end

    	colour !macro like !element

    	keywords of !type
    		i8 i16 i32 i64 i128 u8 u16 u32 u64 u128 f16 f32 f64 f128 bool char str
    	end

    	colouring
    		runs of unquoted {
    			runs of !identifier {
    				keyword of !reserved => !reserved
    				keyword of !constant => !constant
    				keyword of !function => !function
    				keyword of !type => !type
    				suffix "!" => !macro on both
    			}
    			runs of !constant {
    				suffix "i8" => !constant on both
    				suffix "i16" => !constant on both
    				suffix "i32" => !constant on both
    				suffix "i64" => !constant on both
    				suffix "i128" => !constant on both
    				suffix "u8" => !constant on both
    				suffix "u16" => !constant on both
    				suffix "u32" => !constant on both
    				suffix "u64" => !constant on both
    				suffix "u128" => !constant on both
    				suffix "_f16" => !constant on both
    				suffix "_f32" => !constant on both
    				suffix "_f64" => !constant on both
    				suffix "_f128" => !constant on both
    			}
    		}
    	end

    	Conventions {
    		named holons are tangled between <NEWLINE>{<NEWLINE> and }<NEWLINE>
    	}
    }

directory: rusty/sample-assets
opaque file: rusty/sample-assets/Base.css
opaque file: rusty/sample-assets/Bigfoot.css
opaque file: rusty/sample-assets/Bigfoot.js
opaque file: rusty/sample-assets/Breadcrumbs.css
opaque file: rusty/sample-assets/Colours.css
opaque file: rusty/sample-assets/Contents.css
opaque file: rusty/sample-assets/crumbs.gif
opaque file: rusty/sample-assets/Fonts.css
opaque file: rusty/sample-assets/Navigation.css
opaque file: rusty/sample-assets/Progress.css
file: rusty/sample.html
    <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
    <html>
    	<head>
    		<title>Traces of Corrosion</title>
    		<meta name="viewport" content="width=device-width initial-scale=1">
    		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    		<meta http-equiv="Content-Language" content="en-gb">

    <link href="sample-assets/Contents.css" rel="stylesheet" rev="stylesheet" type="text/css">
    <link href="sample-assets/Progress.css" rel="stylesheet" rev="stylesheet" type="text/css">
    <link href="sample-assets/Navigation.css" rel="stylesheet" rev="stylesheet" type="text/css">
    <link href="sample-assets/Fonts.css" rel="stylesheet" rev="stylesheet" type="text/css">
    <link href="sample-assets/Base.css" rel="stylesheet" rev="stylesheet" type="text/css">
    <link href="sample-assets/Breadcrumbs.css" rel="stylesheet" rev="stylesheet" type="text/css">
    <script src="http://code.jquery.com/jquery-1.12.4.min.js"
    	integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>

    <script src="sample-assets/Bigfoot.js"></script>
    <link href="sample-assets/Bigfoot.css" rel="stylesheet" rev="stylesheet" type="text/css">
    <link href="sample-assets/Colours.css" rel="stylesheet" rev="stylesheet" type="text/css">
    		
    	</head>
    	<body class="commentary-font">
    <!-- Weave of 'Traces of Corrosion' generated by inweb -->
    <div class="breadcrumbs">
        <ul class="crumbs"><li><b>Traces of Corrosion</b></li></ul></div>
    <p class="commentary firstcommentary"><a id="SP1" class="paragraph-anchor"></a><b>&#167;1. </b> </p>

    <pre class="displayed-code all-displayed-code code-font">
    <span class="reserved-syntax">fn</span><span class="plain-syntax"> </span><span class="function-syntax">main</span><span class="plain-syntax">() {</span>
    <span class="plain-syntax">    </span><span class="comment-syntax">// Iterate over all integers from 1 to 10</span>
    <span class="plain-syntax">    </span><span class="reserved-syntax">let</span><span class="plain-syntax"> </span><span class="reserved-syntax">mut</span><span class="plain-syntax"> </span><span class="identifier-syntax">n</span><span class="plain-syntax"> = </span><span class="constant-syntax">1</span><span class="plain-syntax">;</span>
    <span class="plain-syntax">    </span><span class="reserved-syntax">while</span><span class="plain-syntax"> </span><span class="identifier-syntax">n</span><span class="plain-syntax"> &lt;= </span><span class="constant-syntax">10</span><span class="plain-syntax"> {</span>
    <span class="plain-syntax">         </span><span class="element-syntax">println!</span><span class="plain-syntax">(</span><span class="string-syntax">"n = {n} of 10"</span><span class="plain-syntax">); </span><span class="comment-syntax">/* using a macro */</span>
    <span class="plain-syntax">         </span><span class="identifier-syntax">n</span><span class="plain-syntax"> += </span><span class="constant-syntax">1</span><span class="plain-syntax">;</span>
    <span class="plain-syntax">    }</span>
    <span class="plain-syntax">    </span><span class="element-syntax">println!</span><span class="plain-syntax">(</span><span class="string-syntax">"1e4 is {}, -2.5e-3 is {}"</span><span class="plain-syntax">, </span><span class="constant-syntax">1e4</span><span class="plain-syntax">, </span><span class="constant-syntax">-2.5e-3</span><span class="plain-syntax">);</span>
    <span class="plain-syntax">    </span><span class="element-syntax">println!</span><span class="plain-syntax">(</span><span class="string-syntax">"true is {}, false is {}"</span><span class="plain-syntax">, </span><span class="constant-syntax">true</span><span class="plain-syntax">, </span><span class="constant-syntax">false</span><span class="plain-syntax">);</span>
    <span class="plain-syntax">    </span><span class="element-syntax">println!</span><span class="plain-syntax">(</span><span class="string-syntax">"4.5_f64 is {}, 0x3ef5u128 is {}"</span><span class="plain-syntax">, </span><span class="constant-syntax">4.5_f64</span><span class="plain-syntax">, </span><span class="constant-syntax">0x3ef5u128</span><span class="plain-syntax">);</span>
    <span class="plain-syntax">}</span>

    <span class="reserved-syntax">enum</span><span class="plain-syntax"> </span><span class="type-syntax">WebEvent</span><span class="plain-syntax"> {</span>
    <span class="plain-syntax">    </span><span class="comment-syntax">// An `enum` variant may either be `unit-like`,</span>
    <span class="plain-syntax">    </span><span class="identifier-syntax">PageLoad</span><span class="plain-syntax">,</span>
    <span class="plain-syntax">    </span><span class="identifier-syntax">PageUnload</span><span class="plain-syntax">,</span>
    <span class="plain-syntax">    </span><span class="comment-syntax">// like tuple structs,</span>
    <span class="plain-syntax">    </span><span class="identifier-syntax">KeyPress</span><span class="plain-syntax">(</span><span class="type-syntax">char</span><span class="plain-syntax">),</span>
    <span class="plain-syntax">    </span><span class="identifier-syntax">Paste</span><span class="plain-syntax">(</span><span class="identifier-syntax">String</span><span class="plain-syntax">),</span>
    <span class="plain-syntax">    </span><span class="comment-syntax">// or c-like structures.</span>
    <span class="plain-syntax">    </span><span class="identifier-syntax">Click</span><span class="plain-syntax"> { </span><span class="identifier-syntax">x</span><span class="plain-syntax">: </span><span class="type-syntax">i64</span><span class="plain-syntax">, </span><span class="identifier-syntax">y</span><span class="plain-syntax">: </span><span class="type-syntax">i64</span><span class="plain-syntax"> },</span>
    <span class="plain-syntax">}</span>

    <span class="reserved-syntax">type</span><span class="plain-syntax"> </span><span class="type-syntax">Operations</span><span class="plain-syntax"> = </span><span class="identifier-syntax">VeryVerboseEnumOfThingsToDoWithNumbers</span><span class="plain-syntax">;</span>

    </pre>
    <!-- End of weave -->

    	</body>
    </html>


file: rusty/sample.rust.md
    # Traces of Corrosion

    	fn main() {
    		// Iterate over all integers from 1 to 10
    		let mut n = 1;
    		while n <= 10 {
    			 println!("n = {n} of 10"); /* using a macro */
    			 n += 1;
    		}
    		println!("1e4 is {}, -2.5e-3 is {}", 1e4, -2.5e-3);
    		println!("true is {}, false is {}", true, false);
    		println!("4.5_f64 is {}, 0x3ef5u128 is {}", 4.5_f64, 0x3ef5u128);
    	}
    	
    	enum WebEvent {
    		// An `enum` variant may either be `unit-like`,
    		PageLoad,
    		PageUnload,
    		// like tuple structs,
    		KeyPress(char),
    		Paste(String),
    		// or c-like structures.
    		Click { x: i64, y: i64 },
    	}

    	type Operations = VeryVerboseEnumOfThingsToDoWithNumbers;


end
