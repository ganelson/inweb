document weave order 1
  head banner <Weave of 'The Sieve of Eratosthenes' generated by inweb>
  body
    chapter <Sections>
      section <The Sieve of Eratosthenes>
        section header <The Sieve of Eratosthenes>
        section purpose <A fairly fast way to determine if small numbers are prime, given storage.>
        toc - <tsoe>
          toc line - <S1, Storage> P1'Storage'
          toc line - <S2, Primality> P2'Primality'
        paragraph P1'Storage'
          material discussion
            markdown (no details available)
          material code: C
            code line
              source_code <int still_in_sieve[RANGE + 1];>
                          _iiipiiiiiiiiiiiiiipnnnnnpppnpp_
            code line
              source_code <int sieve_performed = FALSE;>
                          _iiipiiiiiiiiiiiiiiipppnnnnnp_
        paragraph P2'Primality'
          material discussion
            markdown (no details available)
          material definition
            code line
              defn <define>
              source_code <1>
                          _n_
          material definition
            code line
              defn <define>
              source_code <0>
                          _n_
          material code: C
            code line
              source_code <int >
                          _iiip_
              function defn <isprime>
                commentary <Summing Primes>
                commentary < - >
                locale P2.1
              source_code <(int n) {>
                          _piiipippp_
            code line
              source_code <    if (n <= 1) return FALSE;>
                          _pppprrppippppnpprrrrrrpnnnnnp_
            code line
              source_code <    if (n > RANGE) { printf("Out of range!\n"); return FALSE; }>
                          _pppprrppipppnnnnnppppiiiiiipsssssssssssssssssppprrrrrrpnnnnnppp_
            code line
              source_code <    if (!sieve_performed) >
                          _pppprrpppiiiiiiiiiiiiiiipp_
              pmac <Perform the sieve>
              source_code <;>
                          _p_
            code line
              source_code <    return still_in_sieve[n];>
                          _pppprrrrrrpiiiiiiiiiiiiiipipp_
            code line
              source_code <}>
                          _p_
        paragraph P2.1
          material discussion
            markdown (no details available)
          material paragraph macro
            holon declaration <Perform the sieve> (definition)
          material code: C
            code line
              source_code <    >
                          _pppp_
              pmac <Start with all numbers from 2 upwards in the sieve>
              source_code <;>
                          _p_
            code line
              source_code <    for (int n=2; n*n <= RANGE; n++)>
                          _pppprrrppiiipippppipippppnnnnnppippp_
            code line
              source_code <        if (still_in_sieve[n])>
                          _pppppppprrppiiiiiiiiiiiiiipipp_
            code line
              source_code <            >
                          _pppppppppppp_
              pmac <Shake out multiples of n>
              source_code <;>
                          _p_
            code line
              source_code <    sieve_performed = TRUE;>
                          _ppppiiiiiiiiiiiiiiipppnnnnp_
          material endnotes
            endnote
              commentary <This code is >
              commentary <used in >
              locale P2'Primality'
              commentary <.>
        paragraph P2.1.1
          material paragraph macro
            holon declaration <Start with all numbers from 2 upwards in the sieve> (definition)
          material code: C
            code line
              source_code <    still_in_sieve[1] = FALSE;>
                          _ppppiiiiiiiiiiiiiippppppnnnnnp_
            code line
              source_code <    for (int n=2; n <= RANGE; n++) still_in_sieve[n] = TRUE;>
                          _pppprrrppiiipippppippppnnnnnppippppiiiiiiiiiiiiiipippppnnnnp_
          material endnotes
            endnote
              commentary <This code is >
              commentary <used in >
              locale P2.1
              commentary <.>
        paragraph P2.1.2
          material paragraph macro
            holon declaration <Shake out multiples of n> (definition)
          material code: C
            code line
              source_code <    for (int m= n+n; m <= RANGE; m += n) still_in_sieve[m] = FALSE;>
                          _pppprrrppiiipippipippippppnnnnnppippppippiiiiiiiiiiiiiipippppnnnnnp_
          material endnotes
            endnote
              commentary <This code is >
              commentary <used in >
              locale P2.1
              commentary <.>
        section footer <The Sieve of Eratosthenes>
  tail rennab <End of weave>
