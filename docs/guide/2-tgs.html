<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
	<head>
		<title>Tags</title>
<link href="../docs-assets/Breadcrumbs.css" rel="stylesheet" rev="stylesheet" type="text/css">
		<meta name="viewport" content="width=device-width initial-scale=1">
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<meta http-equiv="Content-Language" content="en-gb">

<link href="../docs-assets/Contents.css" rel="stylesheet" rev="stylesheet" type="text/css">
<link href="../docs-assets/Progress.css" rel="stylesheet" rev="stylesheet" type="text/css">
<link href="../docs-assets/Navigation.css" rel="stylesheet" rev="stylesheet" type="text/css">
<link href="../docs-assets/Fonts.css" rel="stylesheet" rev="stylesheet" type="text/css">
<link href="../docs-assets/Base.css" rel="stylesheet" rev="stylesheet" type="text/css">
<script src="http://code.jquery.com/jquery-1.12.4.min.js"
	integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>

<script src="../docs-assets/Bigfoot.js"></script>
<link href="../docs-assets/Bigfoot.css" rel="stylesheet" rev="stylesheet" type="text/css">
<link href="../docs-assets/Colours.css" rel="stylesheet" rev="stylesheet" type="text/css">
		
	</head>
	<body class="commentary-font">
		<nav role="navigation">
		<h1><a href="../index.html"><img src="../docs-assets/Octagram.png" height=72> </a></h1>
<ul><li><a href="../inweb/index.html">inweb</a></li>
</ul><h2>Foundation Modules</h2><ul>
<li><a href="../foundation-module/index.html">foundation</a></li>
<li><a href="../foundation-test/index.html">foundation-test</a></li>
<li><a href="../literate-module/index.html">literate</a></li>
<li><a href="../literate-test/index.html">literate-test</a></li>
</ul><h2>Documentation</h2><ul>
<li><a href="index.html"><span class="selectedlink">guide</span></a></li>
</ul><h2>Example Webs</h2><ul>
<li><a href="../goldbach/index.html">goldbach</a></li>
<li><a href="../twinprimes/twinprimes.html">twinprimes</a></li>
<li><a href="../eastertide/index.html">eastertide</a></li>
</ul><h2>Repository</h2><ul>
<li><a href="https://github.com/ganelson/inweb"><img src="../docs-assets/github.png" height=0> github</a></li>
</ul><h2>Related Projects</h2><ul>
<li><a href="https://github.com/ganelson/inform"><img src="../docs-assets/github.png" height=0> inform</a></li>
<li><a href="https://github.com/ganelson/intest"><img src="../docs-assets/github.png" height=0> intest</a></li>
</ul>
		</nav>
		<main role="main">
		<!-- Weave of 'Tags' generated by inweb -->
<div class="breadcrumbs">
    <ul class="crumbs"><li><a href="../index.html">Home</a></li><li><a href="index.html">The Inweb Guide</a></li><li><a href="index.html#2">Chapter 2: Larger Webs</a></li><li><b>Tags</b></li></ul></div>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP1" class="paragraph-anchor"></a> In very large webs, it can be useful to <em>tag</em> certain paragraphs.</p>
<p>A tag is really just a textual label. Using our Markdown notation, tags can
be applied by hand to paragraphs which have titles like so:</p>
<pre><code>## Trigonometry ^&quot;mathematical&quot;
</code></pre>
<p>The effect of this heading is exactly like</p>
<pre><code>## Trigonometry
</code></pre>
<p>except that the tag <code>mathematical</code> is now attached to the paragraph in
question. <code>inweb inspect -tags</code> applied to this web will now show:</p>
<pre><code>web &quot;Bezier&quot; (Python program in MarkdownCode notation): 8 paragraphs : 102 lines

tag          | paragraphs tagged
------------ | -----------------
mathematical | 4
</code></pre>
<p>This produces a concordance of the tags used in a web. Here there's not much to
see since only one tag is used, and at the paragraph numbered §4 in a weave.
In a slightly larger web you might see something like:</p>
<pre><code>tag     | paragraphs tagged
------- | -----------------------
Figures | cim:3
Tables  | tgs:2, rad:1.3, rad:1.4
</code></pre>
<p>Here, <code>Tables</code> can be found in §2 of the section abbreviated <code>tgs</code>, and §§1.3
and 1.4 of <code>rad</code>.</p>
<p>In a really large web, this table can be very large. <code>-only</code> can be used to restrict its
scope: <code>inweb inspect -tags -only 2</code>, for example, tabulates tags in Chapter 2,
and <code>inweb inspect -tags -only rad</code> gives us:</p>
<pre><code>tag     | paragraphs tagged
------- | -----------------
Tables  | rad:1.3, rad:1.4
</code></pre>
<p>If the web contains modules, then by default only its main module is scanned,
but <code>-fuller</code> will cause the other modules to be included too.</p>
<p>Nameless paragraphs, sometimes useful to force a paragraph break, can also
be tagged:</p>
<pre><code>During his 42 years at Renault, Pierre Bézier devised the idea of control
points to guide curves.

## ^&quot;mathematical&quot;

In fact, though, his opposite number Paul de Casteljau at the Citroën
works was responsible for the best algorithm for computing these curves,
$$ B(t) = \sum_{i=0}^n \beta_i b_{i, n}(t). $$
</code></pre>
<p>Multiple tags can be applied to the same paragraph:</p>
<pre><code>## Trigonometry ^&quot;mathematical&quot; ^&quot;eldritch&quot;
</code></pre>
<p>We could now, for example,</p>
<pre><code>$ inweb weave bezier.py.md -only-tagged-as mathematical
	generated: mathematical.html
	8 files copied to: bezier-assets
</code></pre>
<p>This makes a single stand-alone web page containing just those paragraphs
from the web with the given tag. (Even if the web contains many sections, which
would ordinarily weave to many HTML files, the extract here will just be one.)
This can be very useful to view a cross-section of related material from across
a large web.</p>
<p>A warning is printed if no paragraphs in the web matched:</p>
<pre><code>$ inweb weave bezier.py.md -only-tagged-as geometric
	generated: geometric.html
    warning: no paragraphs were tagged 'geometric', so weave was empty
	8 files copied to: bezier-assets
</code></pre>
<p>Note that this is <em>not</em> an error, and is not issued at all in <code>-silent</code> mode.</p>
<p>Tags can also be given a sort of memorandum field. If a tag text includes a
colon <code>:</code>, then the tag as such is the part before the (first) colon, and
anything after that is the memo. For example:</p>
<pre><code>## Trigonometry ^&quot;mathematical: trig formulae&quot;
</code></pre>
<p>This tags the paragraph <code>mathematical</code>; the text <code>trig formulae</code> is not thrown
away, though, and is used as a subheading in any woven page of the
<code>mathematical</code>-tagged material in the web.</p>
<h2>Tagging entire sections</h2>
<p>If a web has a contents page, then an entire section can be given one or more
tags on the relevant line of the contents page. For example, the <code>foundation-module</code>
library used by Inweb includes this chapter in its contents:</p>
<pre><code>Chapter 1: Setting Up
&quot;Absolute basics.&quot;
	Foundation Module
	POSIX Platforms ^&quot;ifdef-PLATFORM_POSIX&quot;
	Windows Platform ^&quot;ifdef-PLATFORM_WINDOWS&quot;
</code></pre>
<p>The effect is that <em>every</em> paragraph in the section <code>POSIX Platforms</code> is tagged
with <code>ifdef-PLATFORM_POSIX</code>, and similarly for <code>Windows Platform</code>.</p>
<h2>Conditional compilation</h2>
<p>In C-like languages, tags can be used to tangle code inside of conditional
compilation directives. If a tag takes the form <code>ifdef-SYMBOL</code>, then the holon
in the paragraph (assuming there is one) is tangled in between the C directives
<code>#ifdef SYMBOL</code> and <code>#endif</code>; and similarly for <code>ifndef-SYMBOL</code>. So for example:</p>
<pre><code>## Test code. ^&quot;ifdef-DEBUG&quot;

## Production code. ^&quot;ifndef-DEBUG&quot;
</code></pre>
<h2>Automatic tagging</h2>
<p>Inweb silently tags paragraphs itself with certain built-in tags:</p>
<table>
<thead>
<tr>
<th>tag</th>
<th>paragraph is tagged if...</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Outlinks</code></td>
<td>...it includes a link to a web page outside the web/colony</td>
</tr>
<tr>
<td><code>Audio</code></td>
<td>...it includes embedded audio</td>
</tr>
<tr>
<td><code>Video</code></td>
<td>...it includes embedded video</td>
</tr>
<tr>
<td><code>Figures</code></td>
<td>...it includes an image</td>
</tr>
<tr>
<td><code>Tables</code></td>
<td>...it includes a table</td>
</tr>
<tr>
<td><code>Downloads</code></td>
<td>...it includes a downloadable file</td>
</tr>
<tr>
<td><code>HTML</code></td>
<td>...it includes an excerpt of arbitrary HTML</td>
</tr>
<tr>
<td><code>Carousels</code></td>
<td>...it includes a carousel of images</td>
</tr>
<tr>
<td><code>Structures</code></td>
<td>...it defines a <code>typedef struct</code> in a C-like language</td>
</tr>
<tr>
<td><code>Preform</code></td>
<td>...it defines Preform grammar in an InC program</td>
</tr>
</tbody>
</table>
<p>Inweb uses its ability to tag <code>Outlinks</code> (which is provided only when
commentary is in Markdown notation) to spot all external links from a
website it might be weaving. <code>inweb inspect -links</code> will tabulate these:</p>
<pre><code>inweb inspect -links smorgasbord
web &quot;Sorting Smorgasbord&quot; (Python program in MarkdownCode notation): 2 sections : 11 paragraphs : 123 lines

from   | external URL
------ | ----------------------------------------------
cnsr:1 | https://en.wikipedia.org/wiki/Harold_H._Seward
qcsr:1 | https://www.google.com
</code></pre>
<p>Such URLs might occur in links like <code>[google](https://www.google.com)</code>, or
in image addresses on the wider web, or in Inweb links like <code>//this one -&gt; https://en.wikipedia.org/wiki/Harold_H._Seward</code>.</p>
</div>
<nav role="progress"><div class="progresscontainer">
    <ul class="progressbar"><li class="progressprev"><a href="2-mdl.html">&#10094;</a></li><li class="progresschapter"><a href="1-gs.html">1</a></li><li class="progresscurrentchapter">2</li><li class="progresssection"><a href="2-cp.html">cp</a></li><li class="progresssection"><a href="2-mdl.html">mdl</a></li><li class="progresscurrent">tgs</li><li class="progresssection"><a href="2-cnv.html">cnv</a></li><li class="progresssection"><a href="2-rad.html">rad</a></li><li class="progresschapter"><a href="3-cln.html">3</a></li><li class="progresschapter"><a href="4-an.html">4</a></li><li class="progresschapter"><a href="5-wikal.html">5</a></li><li class="progresschapter"><a href="6-ap.html">6</a></li><li class="progresschapter"><a href="7-bn.html">7</a></li><li class="progressnext"><a href="2-cnv.html">&#10095;</a></li></ul></div>
</nav><!-- End of weave -->

		</main>
	</body>
</html>

