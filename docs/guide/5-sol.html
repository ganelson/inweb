<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
	<head>
		<title>Summary of Languages</title>
<link href="../docs-assets/Breadcrumbs.css" rel="stylesheet" rev="stylesheet" type="text/css">
		<meta name="viewport" content="width=device-width initial-scale=1">
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<meta http-equiv="Content-Language" content="en-gb">

<link href="../docs-assets/Contents.css" rel="stylesheet" rev="stylesheet" type="text/css">
<link href="../docs-assets/Progress.css" rel="stylesheet" rev="stylesheet" type="text/css">
<link href="../docs-assets/Navigation.css" rel="stylesheet" rev="stylesheet" type="text/css">
<link href="../docs-assets/Fonts.css" rel="stylesheet" rev="stylesheet" type="text/css">
<link href="../docs-assets/Base.css" rel="stylesheet" rev="stylesheet" type="text/css">
<script src="http://code.jquery.com/jquery-1.12.4.min.js"
	integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>

<script src="../docs-assets/Bigfoot.js"></script>
<link href="../docs-assets/Bigfoot.css" rel="stylesheet" rev="stylesheet" type="text/css">
<link href="../docs-assets/Colours.css" rel="stylesheet" rev="stylesheet" type="text/css">
		
	</head>
	<body class="commentary-font">
		<nav role="navigation">
		<h1><a href="../index.html"><img src="../docs-assets/Octagram.png" height=72> </a></h1>
<ul><li><a href="../inweb/index.html">inweb</a></li>
</ul><h2>Foundation Modules</h2><ul>
<li><a href="../foundation-module/index.html">foundation</a></li>
<li><a href="../foundation-test/index.html">foundation-test</a></li>
<li><a href="../literate-module/index.html">literate</a></li>
<li><a href="../literate-test/index.html">literate-test</a></li>
</ul><h2>Documentation</h2><ul>
<li><a href="index.html"><span class="selectedlink">guide</span></a></li>
</ul><h2>Example Webs</h2><ul>
<li><a href="../goldbach/index.html">goldbach</a></li>
<li><a href="../twinprimes/twinprimes.html">twinprimes</a></li>
<li><a href="../eastertide/index.html">eastertide</a></li>
</ul><h2>Repository</h2><ul>
<li><a href="https://github.com/ganelson/inweb"><img src="../docs-assets/github.png" height=0> github</a></li>
</ul><h2>Related Projects</h2><ul>
<li><a href="https://github.com/ganelson/inform"><img src="../docs-assets/github.png" height=0> inform</a></li>
<li><a href="https://github.com/ganelson/intest"><img src="../docs-assets/github.png" height=0> intest</a></li>
</ul>
		</nav>
		<main role="main">
		<!-- Weave of 'Summary of Languages' generated by inweb -->
<div class="breadcrumbs">
    <ul class="crumbs"><li><a href="../index.html">Home</a></li><li><a href="index.html">The Inweb Guide</a></li><li><a href="index.html#5">Chapter 5: Languages</a></li><li><b>Summary of Languages</b></li></ul></div>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP1" class="paragraph-anchor"></a> A language declaration must be enclosed thus:</p>
<pre><code>Language &quot;NAME&quot; {
	...
}
</code></pre>
<p>where the body <code>...</code> consists of blank lines, or of any of the following,
given in any order:</p>
<ul>
<li>
<p><code>recognise .EXTENSION</code>. A source file with this filename extension will be
assumed to be written in this language, in the absence of instructions to the
contrary.</p>
</li>
<li>
<p><code>properties</code>, followed by lines specifying values for given keys, followed
by a line reading <code>end</code>. See below.</p>
</li>
<li>
<p><code>colouring</code>, followed by a colouring program, followed by a line reading <code>end</code>.
Gives instructions for syntax-colouring: specified in <a href="5-scp.html" class="internal">Syntax Colouring Programs</a>.</p>
</li>
<li>
<p><code>keywords</code>, followed by lines listing keywords, followed by a line reading <code>end</code>.
The keywords can be bare, e.g., <code>for</code>, or can be quoted, e.g., <code>&quot;for&quot;</code>. (To
make <code>end</code> a keyword, quote it.)</p>
</li>
<li>
<p><code>keywords of !COLOUR</code> is the same, but where the keywords are assigned the
given colour rather than the default <code>!reserved</code> colour. For more on colours,
see <a href="5-scp.html" class="internal">Syntax Colouring Programs</a>.</p>
</li>
<li>
<p><code>colour !NEWCOLOUR like !EXISTINGCOLOUR</code> creates a new colour, and tells Inweb
that it should be rendered in the same appearance as an existing one.</p>
</li>
</ul>
<h2>Conventions used in language declarations</h2>
<p>In addition, a language declaration (like any Inweb resource declaration) can
finish up by including a <code>Conventions</code> block. Only the following conventions
are really appropriate for a language, though:</p>
<pre><code>named holons are tangled between BEFORE and AFTER
standard library #includes are tangled early in the program
typedefs are tangled early in the program
typedef structs are tangled early and reordered logically
function predeclarations are tangled automatically
</code></pre>
<p>The last four are relevant only for C and variants of C: see <a href="5-scf.html" class="internal">Special C Features</a>.
The first, though, can be useful in making the holons for a language behave
like code blocks: see <a href="5-hacb.html" class="internal">Holons as Code Blocks</a> for why we might want this. For
example, Inweb's definition of C contains:</p>
<pre><code>named holons are tangled between &lt;NEWLINE&gt;{&lt;NEWLINE&gt; and }&lt;NEWLINE&gt;
</code></pre>
<p>which means that when a named holon is expanded in tangling, it's encased in
C's open and close block syntax, <code>{</code> ... <code>}</code>. The newlines are not entirely
cosmetic â€” we want to ensure that any subsequent <code>#line</code> directive will
appear at the start of a line. By default:</p>
<pre><code>named holons are tangled between &lt;NEWLINE&gt; and &lt;NEWLINE&gt;
</code></pre>
<p>Many languages which are not strictly speaking versions of C also brace their
code blocks: so, for example, the definition of Rust in <a href="5-cl.html" class="internal">Creating Languages</a>
made the same convention.</p>
<h2>The properties block</h2>
<p>Everything else having now been fully specified, it remains to give an
exhaustive list of the settings which can be made in the <code>properties</code> block.</p>
<p>Properties can be textual (as the great majority are), boolean (in which case
they must be <code>true</code> or <code>false</code>), or regexp, that is, they hold a regular
expression. Here are examples of each being set:</p>
<pre><code>properties
	Character Literal:		'
	C-Like: 				false
	Function Declaration:	/def ([A-Za-z_][A-Za-z0-9_]*).*/
end
</code></pre>
<p>Textual properties can either be quoted or not. If quoted, they should be in
double-quotes: <code>&quot;Thus&quot;</code>. Within those, <code>\&quot;</code> means a double quotation mark,
<code>\n</code> means a newline, and <code>\\</code> means a backslash. If unquoted, they are
taken just as they are, with no special characters (and thus cannot contain
newlines).</p>
<p>A textual value is read as quoted if it contains at least two characters, and
the first and last are quotation marks: thus <code>&quot;</code> is unquoted, and means a
single-character text where the character in question is a double-quotation
mark; but <code>&quot;&quot;</code> is quoted and means the empty text.</p>
<p>By default, the following properties are all empty or <code>false</code> if not set.</p>
<hr />
<p><code>Details</code>: textual. A one-line note explaining the purpose of this &quot;language&quot;,
used only in the output of <code>inweb inspect -show-resources</code>. Style note: for
consistency, start with a capital letter, but finish without a full stop. Example:</p>
<pre><code>Details: The C++ programming language
</code></pre>
<p><code>Line Comment</code>: textual. The characters introducing a comment which continues
to the end of the line, but which can appear in any (unquoted, uncommented-out)
position. Affects tangling as well as weaving since Inweb will not expand holon
names when they are commented out. Example:</p>
<pre><code>Line Comment: //
</code></pre>
<p><code>Whole Line Comment</code>: textual. Like <code>Line Comment</code>, but allowed only at the
start of a line, where &quot;start&quot; means that these are the first non-whitespace
characters on that line. Example:</p>
<pre><code>Line Comment: #
</code></pre>
<p><code>Multiline Comment Open</code>: textual. The characters introducing a comment which
continues to the next use of <code>Multiline Comment Close</code> (so, these should either
both be defined, or neither). This form of comment can begin and end in any
(unquoted, uncommented-out) position and can, but need not, spread across
multiple lines. Affects tangling as well as weaving since Inweb will not
expand holon names when they are commented out. Example:</p>
<pre><code>Multiline Comment Open: {-
Multiline Comment Close: -}
</code></pre>
<p><code>Multiline Comment Open</code>: textual. See <code>Multiline Comment Open</code>.</p>
<p><code>String Literal</code>: textual. The characters opening and also closing a string
literal. Affects tangling as well as weaving since Inweb will not
expand holon names when they appear only in string literals. Example:</p>
<pre><code>String Literal: &quot;
</code></pre>
<p><code>String Literal Escape</code>: textual. If used inside a string literal, means that
any use of <code>String Literal</code> immediately following should not be counted as
its end. Example:</p>
<pre><code>String Literal Escape: \
</code></pre>
<p><code>Character Literal</code>: textual. Like <code>String Literal</code>, but for character literals.
Example:</p>
<pre><code>Character Literal: '
</code></pre>
<p><code>Character Literal Escape</code>: textual. Like <code>String Literal Escape</code>, but for character literals.
Example:</p>
<pre><code>Character Literal Escape: \
</code></pre>
<p><code>Binary Literal Prefix</code>: textual. Introduces a binary number literal, which
then must continue with digits which are each 0 or 1. Affects only syntax-colouring.
Example:</p>
<pre><code>Binary Literal Prefix: 0b
</code></pre>
<p><code>Octal Literal Prefix</code>: textual. Introduces a binary number literal, which
then must continue with digits which are each 0, 1, 2, 3, 4, 5, 6, 7.
Affects only syntax-colouring. Example:</p>
<pre><code>Binary Literal Prefix: 0o
</code></pre>
<p><code>Hexadecimal Literal Prefix</code>: textual. Introduces a binary number literal, which
then must continue with digits which are each 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, a or A,
b or B, c or C, d or D, e or E, f or F. Affects only syntax-colouring. Example:</p>
<pre><code>Hexadecimal Literal Prefix: 0x
</code></pre>
<p><code>Negative Literal Prefix</code>: textual. Introduces a decimal number literal which
is negative. Affects only syntax-colouring. Example (and it's hard to imagine
any other value being set here):</p>
<pre><code>Negative Literal Prefix: -
</code></pre>
<p><code>Decimal Point Infix</code>: textual. Used inside a decimal number literal, acts as
a decimal point. Affects only syntax-colouring. Example (and it's hard to imagine
any other value being set here):</p>
<pre><code>Decimal Point Infix: .
</code></pre>
<p><code>Exponent Infix</code>: textual. Used inside a decimal number literal, acts as
an exponent marker. Affects only syntax-colouring. Example:</p>
<pre><code>Exponent Infix: e
</code></pre>
<p><code>Shebang</code>: textual. Affects only tangling. Place this text at the very top
of any tangled program, followed by a newline. The name goes back to the
old Unix scripting tools, whose input conventionally opened with a comment saying
what program (usually a compiler or interpreter) should run them. Example:</p>
<pre><code>Shebang: &quot;#!/usr/bin/perl\n\n&quot;
</code></pre>
<p><code>Line Marker</code>: textual. Affects only tangling. Placed every time the tangler
draws source material from different files or line numbers than the compiler
might be expecting. <code>%d</code> should be placed where the line number is to go, and
<code>%f</code> where the filename should be. Example:</p>
<pre><code>Line Marker: &quot;#line %d \&quot;%f\&quot;\n&quot;
</code></pre>
<p><code>Indent Named Holon Expansion</code>: boolean. If <code>true</code>, holon expansion should
respect the current indentation level. This needs to be set for Pythonesque
languages: see <a href="5-hacb.html" class="internal">Holons as Code Blocks</a>. Example:</p>
<pre><code>Indent Named Holon Expansion: true
</code></pre>
<p><code>Start Definition</code>: textual. If defining a symbol through an explicit
notation in the web source (for example using <code>@d</code> in <code>InwebClassic</code>), Inweb
tangles this at the opening of a definition. Example (from C):</p>
<pre><code>Start Definition: &quot;#define %S &quot;
</code></pre>
<p><code>Prolong Definition</code>: textual. If the value of a definition continues across a
second or still further lines, then this text is tangled in between those lines.
Example (from C):</p>
<pre><code>Prolong Definition: &quot;\\\n    &quot;
</code></pre>
<p><code>End Definition</code>: textual. Tangled at the end of the value from a definition
begun with <code>Start Definition</code>. Example (from C):</p>
<pre><code>End Definition: &quot;\n&quot;
</code></pre>
<p><code>Start Ifdef</code>: textual. When tangling code which should be compiled only if
a given symbol is defined, Inweb expands this string, in which <code>%S</code> is expanded
as the symbol. No other <code>%</code> escapes should be used. Example (from Inform 6):</p>
<pre><code>Start Ifdef: &quot;#ifdef %S;\n&quot;
</code></pre>
<p><code>Start Ifndef</code>: textual. Similarly for conditional compilation if a symbol is
not defined. Example (from Inform 6):</p>
<pre><code>Start Ifdef: &quot;#ifndef %S;\n&quot;
</code></pre>
<p><code>End Ifdef</code>: textual. Inweb tangles this at the end of a passage of code
prefaced with <code>Start Ifdef</code>: so both should be defined, or neither. Once
again <code>%S</code> expands into the symbol name (though this may not be needed, or
might only be used in a comment). Example (from Inform 6):</p>
<pre><code>End Ifdef: &quot;#endif; ! %S\n&quot;
</code></pre>
<p><code>End Ifndef</code>: textual. Similarly to <code>End Ifdef</code>, but for passages which began
with <code>Start Ifndef</code>.</p>
<p><code>C-Like</code>: boolean. If <code>true</code>, this language gains certain Inweb features
reserved for variants of C. See <a href="5-scf.html" class="internal">Special C Features</a>. Example:</p>
<pre><code>C-Like: true
</code></pre>
<p><code>Supports Namespaces</code>: boolean. This is intended only for C-like languages,
and provides some semblance of a namespace feature for function names
(though not for other identifiers). See <a href="5-scf.html" class="internal">Special C Features</a>. Example:</p>
<pre><code>Supports Namespaces: true
</code></pre>
<p><code>Function Declaration</code>: regexp. If set, Inweb attempts to parse
(non-comment) lines against this regular expression: if there's a match,
then the first bracketed subexpression is assumed to be the name of a new
function declared on that line, and is made a keyword of colour <code>!function</code>.
Multiple expressions can be made alternatives by writing multiple
<code>Function Declaration</code> lines. See <a href="5-rfat.html" class="internal">Recognising Functions and Types</a>. Example:</p>
<pre><code>Function Declaration: /fn (\S+?)\s*\(.*/
</code></pre>
<p><code>Type Declaration</code>: regexp. Similar to <code>Function Declaration</code>, but for the
colour <code>!type</code>. Again, see <a href="5-rfat.html" class="internal">Recognising Functions and Types</a>. Example:</p>
<pre><code>Type Declaration: /typedef struct (\S+).*/
Type Declaration: /typedef .* (\S+);\s*/
</code></pre>
</div>
<nav role="progress"><div class="progresscontainer">
    <ul class="progressbar"><li class="progressprev"><a href="5-scf.html">&#10094;</a></li><li class="progresschapter"><a href="1-gs.html">1</a></li><li class="progresschapter"><a href="2-cp.html">2</a></li><li class="progresschapter"><a href="3-cln.html">3</a></li><li class="progresschapter"><a href="4-an.html">4</a></li><li class="progresscurrentchapter">5</li><li class="progresssection"><a href="5-al.html">al</a></li><li class="progresssection"><a href="5-cl.html">cl</a></li><li class="progresssection"><a href="5-hacb.html">hacb</a></li><li class="progresssection"><a href="5-scp.html">scp</a></li><li class="progresssection"><a href="5-rfat.html">rfat</a></li><li class="progresssection"><a href="5-scf.html">scf</a></li><li class="progresscurrent">sol</li><li class="progresschapter"><a href="6-ap.html">6</a></li><li class="progresschapter"><a href="7-bn.html">7</a></li><li class="progressnext"><a href="6-ap.html">&#10095;</a></li></ul></div>
</nav><!-- End of weave -->

		</main>
	</body>
</html>

