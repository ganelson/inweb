<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
	<head>
		<title>How to Write a Web</title>
<link href="../docs-assets/Breadcrumbs.css" rel="stylesheet" rev="stylesheet" type="text/css">
		<meta name="viewport" content="width=device-width initial-scale=1">
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<meta http-equiv="Content-Language" content="en-gb">

<link href="../docs-assets/Contents.css" rel="stylesheet" rev="stylesheet" type="text/css">
<link href="../docs-assets/Progress.css" rel="stylesheet" rev="stylesheet" type="text/css">
<link href="../docs-assets/Navigation.css" rel="stylesheet" rev="stylesheet" type="text/css">
<link href="../docs-assets/Fonts.css" rel="stylesheet" rev="stylesheet" type="text/css">
<link href="../docs-assets/Base.css" rel="stylesheet" rev="stylesheet" type="text/css">
<link href="../docs-assets/Carousel.css" rel="stylesheet" rev="stylesheet" type="text/css">
<script src="../docs-assets/Carousel.js"></script>
<link href="../docs-assets/Downloads.css" rel="stylesheet" rev="stylesheet" type="text/css">
<script>
MathJax = {
    options: {
    	skipHtmlTags: {'[-]': ['pre']},
    	processHtmlClass: 'mathjax_process'
    },
	loader: {load: ['[tex]/texhtml']},
  	tex: {
		inlineMath: [ ['\\INWEBMATH(', '\\INWEBMATH)'] ],
    	packages: {'[+]': ['texhtml']},
    	allowTexHTML: true
	},
	svg: {
		fontCache: 'global'
	}
};
</script>
<script defer src="https://cdn.jsdelivr.net/npm/mathjax@4/tex-svg.js"></script>

<script src="http://code.jquery.com/jquery-1.12.4.min.js"
	integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>

<script src="../docs-assets/Bigfoot.js"></script>
<link href="../docs-assets/Bigfoot.css" rel="stylesheet" rev="stylesheet" type="text/css">
<link href="../docs-assets/Colours.css" rel="stylesheet" rev="stylesheet" type="text/css">
<link href="../docs-assets/Extracts-Colours.css" rel="stylesheet" rev="stylesheet" type="text/css">
		
	</head>
	<body class="commentary-font">
		<nav role="navigation">
		<h1><a href="../index.html"><img src="../docs-assets/Octagram.png" height=72> </a></h1>
<ul><li><a href="index.html"><span class="selectedlink">inweb</span></a></li>
</ul><h2>Foundation Modules</h2><ul>
<li><a href="../foundation-module/index.html">foundation</a></li>
<li><a href="../foundation-test/index.html">foundation-test</a></li>
<li><a href="../literate-module/index.html">literate</a></li>
<li><a href="../literate-test/index.html">literate-test</a></li>
</ul><h2>Documentation</h2><ul>
<li><a href="../guide/index.html">guide</a></li>
</ul><h2>Example Webs</h2><ul>
<li><a href="../goldbach/index.html">goldbach</a></li>
<li><a href="../twinprimes/twinprimes.html">twinprimes</a></li>
<li><a href="../eastertide/index.html">eastertide</a></li>
</ul><h2>Repository</h2><ul>
<li><a href="https://github.com/ganelson/inweb"><img src="../docs-assets/github.png" height=0> github</a></li>
</ul><h2>Related Projects</h2><ul>
<li><a href="https://github.com/ganelson/inform"><img src="../docs-assets/github.png" height=0> inform</a></li>
<li><a href="https://github.com/ganelson/intest"><img src="../docs-assets/github.png" height=0> intest</a></li>
</ul>
		</nav>
		<main role="main">
		<!-- Weave of 'How to Write a Web' generated by inweb -->
<div class="breadcrumbs">
    <ul class="crumbs"><li><a href="../index.html">Home</a></li><li><a href="index.html">inweb</a></li><li><a href="index.html#M">Manual</a></li><li><b>How to Write a Web</b></li></ul></div>
<p class="purpose">How to mark up code for literate programming.</p>

<ul class="toc"><li><a href="M-htwaw.html#SP1">&#167;1. The title of a section</a></li><li><a href="M-htwaw.html#SP2">&#167;2. Paragraphing</a></li><li><a href="M-htwaw.html#SP6">&#167;6. Conditional compilation</a></li><li><a href="M-htwaw.html#SP7">&#167;7. Commentary</a></li><li><a href="M-htwaw.html#SP12">&#167;12. Code samples and other extraneous matter</a></li><li><a href="M-htwaw.html#SP13">&#167;13. Extract files</a></li><li><a href="M-htwaw.html#SP14">&#167;14. Links</a></li><li><a href="M-htwaw.html#SP15">&#167;15. Cross-references</a></li><li><a href="M-htwaw.html#SP20">&#167;20. Figures</a></li><li><a href="M-htwaw.html#SP21">&#167;21. Carousels</a></li><li><a href="M-htwaw.html#SP22">&#167;22. Video and audio</a></li><li><a href="M-htwaw.html#SP23">&#167;23. Embedded video and audio</a></li><li><a href="M-htwaw.html#SP25">&#167;25. Downloads</a></li><li><a href="M-htwaw.html#SP26">&#167;26. Raw HTML snippets</a></li><li><a href="M-htwaw.html#SP27">&#167;27. Mathematics notation</a></li><li><a href="M-htwaw.html#SP28">&#167;28. Footnotes</a></li></ul><hr class="tocbar">

<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP1" class="paragraph-anchor"></a><b>&#167;1. The title of a section.</b>  In any section file, there will be a few lines at the top which occur before
the first paragraph of code begins. (The first paragraph begins on the first
line which starts with an <code>@</code> character.)</p>
<p>The first line should be the title of the section, followed by a full stop.
For example:</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    </span><span class="identifier-syntax">The</span><span class="plain-syntax"> </span><span class="identifier-syntax">Sieve</span><span class="plain-syntax"> </span><span class="identifier-syntax">of</span><span class="plain-syntax"> </span><span class="identifier-syntax">Eratosthenes</span><span class="plain-syntax">.</span>
</pre>
<div class="lsmarkdown">
<p>A section title must contain only filename-safe characters, and it's probably
wise to make them filename-safe on all platforms: so don't include either
kind of slash, or a colon, and in general go easy on punctuation marks.</p>
<p>Optionally, a section heading can also specify its own range abbreviation,
which must be given in round brackets and followed by a colon:</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    (</span><span class="identifier-syntax">S</span><span class="plain-syntax">/</span><span class="identifier-syntax">sieve</span><span class="plain-syntax">): </span><span class="identifier-syntax">The</span><span class="plain-syntax"> </span><span class="identifier-syntax">Sieve</span><span class="plain-syntax"> </span><span class="identifier-syntax">of</span><span class="plain-syntax"> </span><span class="identifier-syntax">Eratosthenes</span><span class="plain-syntax">.</span>
</pre>
<div class="lsmarkdown">
<p>If this is not done (and usually it is not), Inweb will construct a range
abbreviation itself: in this case, it comes up with <code>S/tsoe</code>.</p>
<p>Subsequent lines of text are then taken as the optional description of the
purpose of the code in this section. (This is used on contents pages.) For
example:</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    </span><span class="identifier-syntax">A</span><span class="plain-syntax"> </span><span class="identifier-syntax">fairly</span><span class="plain-syntax"> </span><span class="identifier-syntax">fast</span><span class="plain-syntax"> </span><span class="identifier-syntax">way</span><span class="plain-syntax"> </span><span class="identifier-syntax">to</span><span class="plain-syntax"> </span><span class="identifier-syntax">determine</span><span class="plain-syntax"> </span><span class="reserved-syntax">if</span><span class="plain-syntax"> </span><span class="identifier-syntax">small</span><span class="plain-syntax"> </span><span class="identifier-syntax">numbers</span><span class="plain-syntax"> </span><span class="identifier-syntax">are</span><span class="plain-syntax"> </span><span class="identifier-syntax">prime</span><span class="plain-syntax">, </span><span class="identifier-syntax">given</span><span class="plain-syntax"> </span><span class="identifier-syntax">storage</span><span class="plain-syntax">.</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP2" class="paragraph-anchor"></a><b>&#167;2. Paragraphing.</b>  A standard paragraph is introduced with an <code>@</code> command, which must place
that magic character in the first column of the line:</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    </span><span class="function-syntax">@</span><span class="plain-syntax"> This is some comment at the start of a new paragraph, which...</span>
</pre>
<div class="lsmarkdown">
<p>A fancier paragraph with a subheading attached is introduced using the
<code>@h</code> or <code>@heading</code> command instead. (This is simply a long and short version
of the same command.) The text of the subheading then follows, up to the
first full stop.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    </span><span class="function-syntax">@heading</span><span class="plain-syntax"> Reflections on the method.</span>
</pre>
<div class="lsmarkdown">
<p>Paragraphs can contain three ingredients, all optional, but if given then
given in this order: comment, definitions, and code. The following
example shows all three being used:</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    </span><span class="function-syntax">@h</span><span class="plain-syntax"> Primality.</span>
<span class="plain-syntax">    We provide this as a function which determines whether a number</span>
<span class="plain-syntax">    </span><span class="element-syntax">is prime</span><span class="plain-syntax">:</span>

<span class="plain-syntax">    </span><span class="function-syntax">@d</span><span class="plain-syntax"> TRUE 1</span>
<span class="plain-syntax">    </span><span class="function-syntax">@d</span><span class="plain-syntax"> FALSE 0</span>

<span class="plain-syntax">    =</span>
<span class="plain-syntax">    int isprime(int n) {</span>
<span class="plain-syntax">        if (n &lt;= 1) return FALSE;</span>
<span class="plain-syntax">        for (int m = 2; m*m &lt;= n; m++)</span>
<span class="plain-syntax">            if (n % m == 0)</span>
<span class="plain-syntax">                return FALSE;</span>
<span class="plain-syntax">        return TRUE;</span>
<span class="plain-syntax">    }</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP3" class="paragraph-anchor"></a><b>&#167;3. </b>  Definitions are made using one of three commands: <code>@d</code> or <code>@define</code>; or
<code>@e</code> or <code>@enum</code>; or <code>@default</code>, which is rarely used and has no abbreviation.
These create new constants in the program, with the values given: they are
the equivalent of a <code>#define</code> directive in C. <code>@define</code> is the simpler form.
For example,</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    </span><span class="function-syntax">@define</span><span class="plain-syntax"> ENIGMATIC_NUMBER 90125</span>
</pre>
<div class="lsmarkdown">
<p>sets <code>ENIGMATIC_NUMBER</code> to 90125. Unlike in the C preprocessor, multi-line
definitions are automatically handled, so for example:</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    </span><span class="function-syntax">@</span><span class="plain-syntax"> The following macro defines a function:</span>
<span class="plain-syntax">    </span><span class="function-syntax">@d</span><span class="plain-syntax"> EAT_FRUIT(variety)</span>
<span class="plain-syntax">        int consume_by_##variety(variety *frp) {</span>
<span class="plain-syntax">            return frp-&gt;eat_by_date;</span>
<span class="plain-syntax">        }</span>
<span class="plain-syntax">    =</span>
<span class="plain-syntax">    banana my_banana; /* initialised somewhere else, let's suppose */</span>
<span class="plain-syntax">    EAT_FRUIT(banana) /* expands with the definition above */</span>
<span class="plain-syntax">    void consider_fruit(void) {</span>
<span class="plain-syntax">        printf("The banana has an eat-by date of %d.", consume_by_banana(&amp;my_banana));</span>
<span class="plain-syntax">    }</span>
</pre>
<div class="lsmarkdown">
<p>In fact, a definition continues until the next definition, or until the code
part of the paragraph begins, or until the paragraph ends, whichever comes
first.</p>
<p>Enumerations with <code>@enum</code> are a convenience to define enumerated constants.
For example,</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    </span><span class="function-syntax">@enum</span><span class="plain-syntax"> JANUARY_MNTH from 0</span>
<span class="plain-syntax">    </span><span class="function-syntax">@enum</span><span class="plain-syntax"> FEBRUARY_MNTH</span>
<span class="plain-syntax">    </span><span class="function-syntax">@enum</span><span class="plain-syntax"> MARCH_MNTH</span>
</pre>
<div class="lsmarkdown">
<p>and so on, is equivalent to</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    </span><span class="function-syntax">@define</span><span class="plain-syntax"> JANUARY_MNTH 0</span>
<span class="plain-syntax">    </span><span class="function-syntax">@define</span><span class="plain-syntax"> FEBRUARY_MNTH 1</span>
<span class="plain-syntax">    </span><span class="function-syntax">@define</span><span class="plain-syntax"> MARCH_MNTH 2</span>
</pre>
<div class="lsmarkdown">
<p>What happens is that <code>@enum</code> looks at the tail of the name, from the last
underscore to the end: in this case, <code>_MNTH</code>. The first time an enumerated
value is asked for with this tail, <code>from</code> is used to specify the lowest
number to be used - in the above case, months begin counting from 0. With
each subsequent <code>_MNTH</code> request, <code>@enum</code> allocates the next unused value.</p>
<p>All symbols defined with <code>@define</code> or <code>@enum</code> are global, and can be used
from anywhere in the web, including in sections or paragraphs earlier than
the ones in which they are defined. (The tangler automatically arranges code
as necessary to make this work.)</p>
<p>A symbol defined with <code>@default</code> has the given value only if some other use
of <code>@d</code> or <code>@e</code> in the web has not already defined it. For example, if the
web contains:</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    </span><span class="function-syntax">@default</span><span class="plain-syntax"> MAX_HEADROOM 100</span>
<span class="plain-syntax">    </span><span class="function-syntax">@d</span><span class="plain-syntax"> MAX_HEADROOM 99</span>
</pre>
<div class="lsmarkdown">
<p>or</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    </span><span class="function-syntax">@d</span><span class="plain-syntax"> MAX_HEADROOM 99</span>
<span class="plain-syntax">    </span><span class="function-syntax">@default</span><span class="plain-syntax"> MAX_HEADROOM 100</span>
</pre>
<div class="lsmarkdown">
<p>then the value is 99, but if only</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    </span><span class="function-syntax">@default</span><span class="plain-syntax"> MAX_HEADROOM 100</span>
</pre>
<div class="lsmarkdown">
<p>then the value is 100.</p>
</div>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP4" class="paragraph-anchor"></a><b>&#167;4. </b>  Finally, a paragraph can contain code. This is introduced with an equals
sign: in some sense, the value of the paragraph is the code it contains.
In many paragraphs, as in the example above, the divider is just</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    =</span>
</pre>
<div class="lsmarkdown">
<p>and this means that the rest of the paragraph is part of the program.
Ordinarily, this must appear in column 1, but a special abbreviation is
allowed for paragraphs with no comment and no definitions:</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    </span><span class="function-syntax">@ =</span>
</pre>
<div class="lsmarkdown">
<p>This is exactly equivalent to:</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    </span><span class="function-syntax">@</span>

<span class="plain-syntax">    =</span>
</pre>
<div class="lsmarkdown">
<p>We can tell the tangler to place the code early in the tangled program,
rather than at its natural place in the sequence, by annotating</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    = (early code)</span>
</pre>
<div class="lsmarkdown">
<p>instead of just <code>=</code>. (This is occasionally useful where, for example, it's
necessary to create global variables which will be referred to in other
sections of code.) The more extreme <code>= (very early code)</code> can be used in C
for complicated header file inclusions, but should be kept to an absolute
minimum, if only for clarity.</p>
</div>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP5" class="paragraph-anchor"></a><b>&#167;5. </b>  One last feature, but it's the most important. Some code extracts are
given names, in angle brackets. If so, then the paragraph is the definition
of that extract. For example:</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    </span><span class="function-syntax">@&lt;Dramatic finale@&gt; =</span>
<span class="plain-syntax">        printf("I'm ruined! Ruined, I say!\n");</span>
<span class="plain-syntax">        exit(1);</span>
</pre>
<div class="lsmarkdown">
<p>Notice that the equals sign is still there: it's just that the chunk of code
is given a name, written inside <code>@&lt;</code> and <code>@&gt;</code> &quot;brackets&quot;. (This notation
goes all the way back to Knuth's original WEB.)</p>
<p>What does the tangler do with this? It doesn't place the code as the next
item in the program. Instead, it expands any mention of <code>@&lt;Dramatic finale@&gt;</code>
elsewhere in the section with this block of code. It can be expanded as
many times as necessary, but only within the same section. Another section
would be quite free to define its own <code>@&lt;Dramatic finale@&gt;</code>, but it would
not be able to see this one.</p>
<p>Why is this important? One of the points of literate programming is to
subdivide the program on conceptual lines, even within single functions.
For example:</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    </span><span class="function-syntax">@&lt;Perform the sieve@&gt; =</span>
<span class="plain-syntax">        </span><span class="function-syntax">@&lt;Start with all numbers from 2 upwards in the sieve@&gt;</span><span class="plain-syntax">;</span>
<span class="plain-syntax">        for (int n=2; n*n &lt;= RANGE; n++)</span>
<span class="plain-syntax">            if (still_in_sieve[n])</span>
<span class="plain-syntax">                </span><span class="function-syntax">@&lt;Shake out multiples of n@&gt;</span><span class="plain-syntax">;</span>
<span class="plain-syntax">        sieve_performed = TRUE;</span>
</pre>
<div class="lsmarkdown">
<p>This is easier to understand than writing the function all in one go, and
more practicable than breaking it up into smaller functions.</p>
<p>Named paragraphs behave, in some ways, like macro definitions, and those
have a bad name nowadays - probably fairly. But Inweb makes them much
safer to use than traditional macros, because it tangles them into code
blocks, not just into runs of statements. A variable defined inside a
named paragraph has, as its scope, just that paragraph. And this:</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">            if (still_in_sieve[n])</span>
<span class="plain-syntax">                </span><span class="function-syntax">@&lt;Shake out multiples of n@&gt;</span><span class="plain-syntax">;</span>
</pre>
<div class="lsmarkdown">
<p>works safely because <code>@&lt;Shake out multiples of n@&gt;</code> is, thanks to being a
code block, semantically a single statement.</p>
<p>Finally, note that if there are no commentary or definitions attached to
the paragraph then it's not necessary to type the initial <code>@</code>. That is,
this:</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    </span><span class="function-syntax">@</span>

<span class="plain-syntax">    </span><span class="function-syntax">@&lt;Prepare to exit@&gt; =</span>
</pre>
<div class="lsmarkdown">
<p>...is not necessary, and it's sufficient to type just:</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    </span><span class="function-syntax">@&lt;Prepare to exit@&gt; =</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP6" class="paragraph-anchor"></a><b>&#167;6. Conditional compilation.</b>  In some languages, especially C, it's very hard to write a program which will
run on multiple operating systems without some use of conditional compilation:
that is, putting some code or definitions inside <code>#ifdef</code> clauses or the like.</p>
<p>Inweb can't alter this sad fact of life, but it can make the process tidier.
If a paragraph has the tag <code>^&quot;ifdef-SYMBOL&quot;</code>, then any material in it will
be tangled in such a way that it takes effect only if <code>SYMBOL</code> is defined.
For example, in a C-language web with the paragraph:</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    </span><span class="function-syntax">@h</span><span class="plain-syntax"> Windows stuff. ^"ifdef-PLATFORM_WINDOWS"</span>

<span class="plain-syntax">    </span><span class="function-syntax">@d</span><span class="plain-syntax"> THREADS_AVAILABLE 12</span>
<span class="plain-syntax">    =</span>
<span class="plain-syntax">    void start_threads(int n) {</span>
<span class="plain-syntax">        ...</span>
<span class="plain-syntax">    }</span>
</pre>
<div class="lsmarkdown">
<p>...the definition of <code>THREADS_AVAILABLE</code> and the function <code>start_threads</code>
would be made only inside a <code>#ifdef PLATFORM_WINDOWS</code> clause; the same would
happen for any typedefs or <code>#include</code>s made.</p>
<p>Similarly, tagging a paragraph <code>^&quot;ifndef-SYMBOL&quot;</code> causes it to have effect
only if <code>SYMBOL</code> is undefined. A paragraph can have any number of such
conditions applied to it, and if so then all of the conditions must be met.</p>
<p>Note that since tags can be applied to entire sections of a web, at the
Contents listing, it's straightforward to give, say, two versions of a
section file, one with effect on MacOS, one with effect on Windows.</p>
</div>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP7" class="paragraph-anchor"></a><b>&#167;7. Commentary.</b>  The comment part of a paragraph is ignored by the tangler, and appears only
in weaves. For the most part, the text is simply copied over verbatim: but
Inweb quietly tries to improve the appearance of what it copies, and a
few special notations are allowed, to help with this.</p>
</div>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP8" class="paragraph-anchor"></a><b>&#167;8. </b>  A doubled hyphen becomes an em-rule; double-quotation marks automatically
smarten (in TeX format, at least).</p>
</div>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP9" class="paragraph-anchor"></a><b>&#167;9. </b>  Lines beginning with what look like bracketed list numbers or letters are
set as such, running on into little indented paragraphs. Thus</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    (a) Intellectual property has the shelf life of a banana. (Bill Gates)</span>
<span class="plain-syntax">    (b) He is the very pineapple of politeness! (Richard Brinsley Sheridan)</span>
<span class="plain-syntax">    (c) Harvard takes perfectly good plums as students, and turns them into</span>
<span class="plain-syntax">    prunes. (Frank Lloyd Wright)</span>
</pre>
<div class="lsmarkdown">
<p>will be typeset thus:</p>
<p>(a) Intellectual property has the shelf life of a banana. (Bill Gates)
(b) He is the very pineapple of politeness! (Richard Brinsley Sheridan)
(c) Harvard takes perfectly good plums as students, and turns them into
prunes. (Frank Lloyd Wright)</p>
<p>A line which begins <code>(...)</code> will be treated as a continuation of indented
matter (following on from some break-off such as a source quotation).
A line which begins <code>(-X)</code> will be treated as if it were <code>(X)</code>, but
indented one tab stop further in, like so:</p>
<p>(c) Harvard blah, blah, blah. (Frank Lloyd Wright)
(-d) Pick a song and sing a yellow nectarine. (Scott Weiland)</p>
<p>Finally, bracketed asterisks are considered to be bullets. Thus:</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    (*) Do I dare to eat a peach? (T. S. Eliot)</span>
<span class="plain-syntax">    (*) You sit on the veranda drinking tea and your ducklings swim on the pond,</span>
<span class="plain-syntax">    and everything smells good... and there are gooseberries. (Anton Chekhov)</span>
</pre>
<div class="lsmarkdown">
<p>becomes:
(<em>) Do I dare to eat a peach? (T. S. Eliot)
(</em>) You sit on the veranda drinking tea and your ducklings swim on the pond,
and everything smells good... and there are gooseberries. (Anton Chekhov)</p>
</div>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP10" class="paragraph-anchor"></a><b>&#167;10. </b>  Text placed between vertical strokes will be set in a fixed-space, code
style font, <code>thus</code>. This paragraph appears in the web you are reading thus:</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    </span><span class="function-syntax">@</span><span class="plain-syntax"> Text placed between vertical strokes will be set in a fixed-space, code</span>
<span class="plain-syntax">    </span><span class="element-syntax">style font, |thus|. This paragraph appears in the web you are reading thus</span><span class="plain-syntax">:</span>
</pre>
<div class="lsmarkdown">
<p>This notation may be inconvenient if you need the vertical stroke character
for something else, especially as the notation is used both in code comments
and in paragraph commentary. But both notations can be configured in the
Contents page of a web, thus:</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="element-syntax">Code In Code Comments Notation</span><span class="plain-syntax">:</span><span class="string-syntax"> Off</span>
<span class="element-syntax">Code In Commentary Notation</span><span class="plain-syntax">:</span><span class="string-syntax"> %%</span>
</pre>
<div class="lsmarkdown">
<p>This example would turn off the feature in code comments, but allow it in
paragraph commentary; we would then need to write...</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    </span><span class="function-syntax">@</span><span class="plain-syntax"> Text placed between vertical strokes will be set in a fixed-space, code</span>
<span class="plain-syntax">    </span><span class="element-syntax">style font, %%thus%%. This paragraph appears in the web you are reading thus</span><span class="plain-syntax">:</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP11" class="paragraph-anchor"></a><b>&#167;11. </b>  A line written thus:</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    &gt;&gt; The monkey carries the blue scarf.</span>
</pre>
<blockquote>
    <p>The monkey carries the blue scarf.</p>
</blockquote>

<div class="lsmarkdown">
<p>is typeset as an extract of text thus:</p>
</div>
<div class="lsmarkdown">
<p>(This is a feature used for Inform 7 &quot;code&quot; samples, those being essentially
natural language text.)</p>
</div>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP12" class="paragraph-anchor"></a><b>&#167;12. Code samples and other extraneous matter.</b>  When is code not code? When it's an extract of text being displayed for
documentation reasons, is the answer. We can include this like so:</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    = (text)</span>
<span class="plain-syntax">    Here is my sample bit of text.</span>
<span class="plain-syntax">    = (undisplayed text)</span>
</pre>
<div class="lsmarkdown">
<p>This is assumed to be plain text, and is syntax-coloured (or rather, not)
as such, but otherwise it's woven as code. Using the word <code>undisplayed</code>
before <code>text</code> tells Inweb to do so less showily, on HTML weaves:</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    = (undisplayed text)</span>
</pre>
<div class="lsmarkdown">
<p>Sometimes, though, we do want syntax colouring. If in fact it is a
hypothetical piece of code from the program -- for example, a demonstration of
an API, but for reading and not to be compiled -- we can instead write:</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    = (text as code)</span>
</pre>
<div class="lsmarkdown">
<p>and the text will then be treated visually exactly as the surrounding
program is. If, on the other hand, it's a sample piece of code from a
different language altogether, we can specify which:</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    = (text as ACME)</span>
</pre>
<div class="lsmarkdown">
<p>This will then be syntax-coloured following the rules for ACME (or any
other language supported by Inweb).</p>
<p>Note that if your web is written in, for example, C, then these are
subtly different:</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    = (text as C)</span>
<span class="plain-syntax">    = (text as code)</span>
</pre>
<div class="lsmarkdown">
<p>The difference is that syntax-colouring in the first case doesn't know
the names of any surrounding functions or data structures; in the second
case, it knows the names of all those in your program.</p>
<p>Samples of code are, uniquely, allowed to end mid-way in a paragraph (unlike
real code): placing a <code>=</code> on the left margin allows the commentary to resume.
For example,</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    = (text as ACME)</span>
<span class="plain-syntax">        BEQ .adjustXRegister</span>
<span class="plain-syntax">    =</span>
<span class="plain-syntax">    ...which is essential in order to restore the state of</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP13" class="paragraph-anchor"></a><b>&#167;13. Extract files.</b>  Many programs can only properly function if accompanied by a configuration file
of some kind: a set of default preferences, for example, or some other associated
data. This is not part of the program, and will instead be read in every time
the program runs.</p>
<p>To explain such a program properly, one really needs to explain this sidekick
file as well. So Inweb provides a feature for including these files inside the
body of a web, as what are called &quot;extracts&quot;. For example:</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    = (text to magic-settings.txt)</span>
<span class="plain-syntax">        top-hat-capacity = 6 rabbits</span>
<span class="plain-syntax">        cabinet-trapdoor = closed</span>
<span class="plain-syntax">    =</span>
</pre>
<div class="lsmarkdown">
<p>The result weaves like so:</p>
</div>
<pre class="Extracts-displayed-code all-displayed-code code-font">
<span class="Extracts-plain-syntax">    </span><span class="Extracts-identifier-syntax">top</span><span class="Extracts-plain-syntax">-</span><span class="Extracts-identifier-syntax">hat</span><span class="Extracts-plain-syntax">-</span><span class="Extracts-identifier-syntax">capacity</span><span class="Extracts-plain-syntax"> = </span><span class="Extracts-constant-syntax">6</span><span class="Extracts-plain-syntax"> </span><span class="Extracts-identifier-syntax">rabbits</span>
<span class="Extracts-plain-syntax">    </span><span class="Extracts-identifier-syntax">cabinet</span><span class="Extracts-plain-syntax">-</span><span class="Extracts-identifier-syntax">trapdoor</span><span class="Extracts-plain-syntax"> = </span><span class="Extracts-identifier-syntax">closed</span>
</pre>
<ul class="endnotetexts"><li>This is part of the extract file magic-settings.txt.</li></ul>
<div class="lsmarkdown">
<p>When the web is tangled, the file <code>magic-settings.txt</code> will be created with these
contents and placed alongside the main tangled output, i.e., usually in the web's
<code>Tangled</code> directory.</p>
<p>There can be up to 10 differently-named extract files. If there are multiple
extracts naming the same file -- for example, if we also have:</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    = (text to magic-settings.txt)</span>
<span class="plain-syntax">        marked-card = 6 of clubs</span>
<span class="plain-syntax">    =</span>
</pre>
<div class="lsmarkdown">
<p>which weaves like so:</p>
</div>
<pre class="Extracts-displayed-code all-displayed-code code-font">
<span class="Extracts-plain-syntax">    </span><span class="Extracts-identifier-syntax">marked</span><span class="Extracts-plain-syntax">-</span><span class="Extracts-identifier-syntax">card</span><span class="Extracts-plain-syntax"> = </span><span class="Extracts-constant-syntax">6</span><span class="Extracts-plain-syntax"> </span><span class="Extracts-identifier-syntax">of</span><span class="Extracts-plain-syntax"> </span><span class="Extracts-identifier-syntax">clubs</span>
</pre>
<ul class="endnotetexts"><li>This is part of the extract file magic-settings.txt.</li></ul>
<div class="lsmarkdown">
<p>then the extracts are tangled together into one file. So the result of the two
example extracts above, after tangling, would be a single file which reads:</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    </span><span class="identifier-syntax">top</span><span class="plain-syntax">-</span><span class="identifier-syntax">hat</span><span class="plain-syntax">-</span><span class="identifier-syntax">capacity</span><span class="plain-syntax"> = </span><span class="constant-syntax">6</span><span class="plain-syntax"> </span><span class="identifier-syntax">rabbits</span>
<span class="plain-syntax">    </span><span class="identifier-syntax">cabinet</span><span class="plain-syntax">-</span><span class="identifier-syntax">trapdoor</span><span class="plain-syntax"> = </span><span class="identifier-syntax">closed</span>
<span class="plain-syntax">    </span><span class="identifier-syntax">marked</span><span class="plain-syntax">-</span><span class="identifier-syntax">card</span><span class="plain-syntax"> = </span><span class="constant-syntax">6</span><span class="plain-syntax"> </span><span class="identifier-syntax">of</span><span class="plain-syntax"> </span><span class="identifier-syntax">clubs</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP14" class="paragraph-anchor"></a><b>&#167;14. Links.</b>  URLs in the web are automatically recognised and a weave to HTML will
make them into links. For example:</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    </span><span class="identifier-syntax">For</span><span class="plain-syntax"> </span><span class="identifier-syntax">further</span><span class="plain-syntax"> </span><span class="identifier-syntax">reading</span><span class="plain-syntax">, </span><span class="identifier-syntax">see:</span><span class="plain-syntax"> </span><span class="identifier-syntax">https:</span><span class="comment-syntax">en.wikipedia.org/wiki/How_to_Avoid_Huge_Ships.</span>
</pre>
<div class="lsmarkdown">
<p>For further reading, see: https://en.wikipedia.org/wiki/How_to_Avoid_Huge_Ships.</p>
<p>Note that URLs are considered to continue to the next white space, except
that any final full stops, question or exclamation marks, commas, brackets,
semicolons, or colons are disregarded. (This is why the above sentence ended
with a full stop and yet the full stop wasn't part of the reference URL.)</p>
<p>URLs will also be recognised in any text extract marked as <code>hyperlinked</code>.
For example,</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    </span><span class="identifier-syntax">Compare:</span><span class="plain-syntax"> </span><span class="identifier-syntax">https:</span><span class="comment-syntax">en.wikipedia.org/wiki/Crocheting_Adventures_with_Hyperbolic_Planes!</span>
</pre>
<div class="lsmarkdown">
<p>produces:</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    </span><span class="identifier-syntax">Compare:</span><span class="plain-syntax"> </span><span class="identifier-syntax">https:</span><span class="comment-syntax">en.wikipedia.org/wiki/Crocheting_Adventures_with_Hyperbolic_Planes!</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP15" class="paragraph-anchor"></a><b>&#167;15. Cross-references.</b>  These are like links, but are internal. These are normally written within <code>//</code>
signs and are only available in the commentary of a web. They allow us to
place cross-references like so:</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    </span><span class="identifier-syntax">To</span><span class="plain-syntax"> </span><span class="identifier-syntax">see</span><span class="plain-syntax"> </span><span class="identifier-syntax">how</span><span class="plain-syntax"> </span><span class="identifier-syntax">cross</span><span class="plain-syntax">-</span><span class="identifier-syntax">references</span><span class="plain-syntax"> </span><span class="identifier-syntax">are</span><span class="plain-syntax"> </span><span class="identifier-syntax">implemented</span><span class="plain-syntax">, </span><span class="identifier-syntax">see</span><span class="plain-syntax"> </span><span class="comment-syntax">Format Methods//,</span>
<span class="plain-syntax">    </span><span class="identifier-syntax">or</span><span class="plain-syntax"> </span><span class="identifier-syntax">more</span><span class="plain-syntax"> </span><span class="identifier-syntax">generally</span><span class="plain-syntax"> </span><span class="identifier-syntax">the</span><span class="plain-syntax"> </span><span class="identifier-syntax">whole</span><span class="plain-syntax"> </span><span class="identifier-syntax">of</span><span class="plain-syntax"> </span><span class="comment-syntax">Weaving//; to decipher the text,</span>
<span class="plain-syntax">    </span><span class="identifier-syntax">Inweb</span><span class="plain-syntax"> </span><span class="identifier-syntax">uses</span><span class="plain-syntax"> </span><span class="identifier-syntax">code</span><span class="plain-syntax"> </span><span class="identifier-syntax">from</span><span class="plain-syntax"> </span><span class="comment-syntax">literate// at </span><a href="../literate-module/1-wm.html" class="internal">Web Modules (in literate)</a><span class="comment-syntax">.</span>
</pre>
<div class="lsmarkdown">
<p>To see how cross-references are implemented, see <a href="../literate-module/5-fm.html" class="internal">Format Methods (in literate)</a>,
or more generally the whole of <a href="../literate-module/5-wd.html" class="internal">Chapter 5: Weaving (in literate)</a>; to decipher the text,
Inweb uses code from <a href="../literate-module/index.html" class="internal">literate</a> at <a href="../literate-module/1-wm.html" class="internal">Web Modules (in literate)</a>.</p>
<p>What happened in that last sentence is that Inweb noticed the following:
(a) &quot;Format Methods&quot; is the name of a section of code in the Inweb web;
(b) The web also has a chapter called &quot;Weaving&quot;;
(c) It uses a module called &quot;literate&quot;;
(d) And that module has a section called &quot;Web Modules&quot;.</p>
<p>Inweb then made links accordingly. Chapters, which can be referred to either
numerically, link to the first section in them; modules likewise. Errors are
thrown if these references to sections are in any way ambiguous. They are not
case sensitive.</p>
</div>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP16" class="paragraph-anchor"></a><b>&#167;16. </b>  Sometimes we want to make a link without literally showing the destination.
This is simple: for example,</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    </span><span class="identifier-syntax">First</span><span class="plain-syntax"> </span><span class="comment-syntax">the program has to configure itself -&gt; Configuration//, then...</span>
</pre>
<div class="lsmarkdown">
<p>produces: &quot;First <a href="1-cnf.html" class="internal">the program has to configure itself</a>,
then...&quot;; the text &quot;the program has to configure itself&quot; links to <a href="1-cnf.html" class="internal">Configuration</a>.
This is especially useful if the destination is given as an explicit URL, which
is also allowed:</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    </span><span class="identifier-syntax">See</span><span class="plain-syntax"> </span><span class="comment-syntax">this biographical note -&gt; </span><a href="http://mathshistory.st-andrews.ac.uk/Biographies/Gauss.html//" class="external">http://mathshistory.st-andrews.ac.uk/Biographies/Gauss.html//</a><span class="comment-syntax">.</span>
</pre>
<div class="lsmarkdown">
<p>See <a href="http://mathshistory.st-andrews.ac.uk/Biographies/Gauss.html" class="external">this biographical note</a>.</p>
</div>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP17" class="paragraph-anchor"></a><b>&#167;17. </b>  It's also possible to reference function names and type names, provided that
the language definition supports these (see <a href="M-spl.html" class="internal">Supporting Programming Languages</a>):
this is certainly the case for C-like languages. For example,</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    </span><span class="identifier-syntax">Individual</span><span class="plain-syntax"> </span><span class="identifier-syntax">sections</span><span class="plain-syntax"> </span><span class="identifier-syntax">of</span><span class="plain-syntax"> </span><span class="identifier-syntax">a</span><span class="plain-syntax"> </span><span class="identifier-syntax">web</span><span class="plain-syntax"> </span><span class="identifier-syntax">are</span><span class="plain-syntax"> </span><span class="identifier-syntax">stored</span><span class="plain-syntax"> </span><span class="identifier-syntax">in</span><span class="plain-syntax"> </span><span class="comment-syntax">ls_section// structures,</span>
<span class="plain-syntax">    </span><span class="identifier-syntax">and</span><span class="plain-syntax"> </span><span class="identifier-syntax">mostly</span><span class="plain-syntax"> </span><span class="identifier-syntax">created</span><span class="plain-syntax"> </span><span class="identifier-syntax">by</span><span class="plain-syntax"> </span><span class="comment-syntax">WebStructure::new_ls_section//.</span>
</pre>
<div class="lsmarkdown">
<p>produces: Individual lines of a web are stored in <a href="../literate-module/1-ws.html#SP8" class="internal">ls_section</a> structures,
and mostly created by <a href="../literate-module/1-ws.html#SP8" class="internal">WebStructure::new_ls_section</a>. And that should link to the
structure definition and function of these names inside the Inweb program.</p>
<p>Lastly, cross-references can even be made to webs quite separate from the
current one, but this requires the use of a Colony file.
See <a href="M-mwiw.html" class="internal">Making Weaves into Websites</a>.</p>
</div>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP18" class="paragraph-anchor"></a><b>&#167;18. </b>  Cross-references also work inside text extracts marked as <code>hyperlinked</code>.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    = (hyperlinked text)</span>
<span class="plain-syntax">        See the //Manual// for more on this.</span>
<span class="plain-syntax">    =</span>
</pre>
<div class="lsmarkdown">
<p>produces:</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    </span><span class="identifier-syntax">See</span><span class="plain-syntax"> </span><span class="identifier-syntax">the</span><span class="plain-syntax"> </span><span class="comment-syntax">Manual// for more on this.</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP19" class="paragraph-anchor"></a><b>&#167;19. </b>  Cross-references must begin after white space, or a punctuation mark (other
than a colon), and must end to be followed by more white space or another
punctuation mark (this time allowing a colon). In practice, that reduces
the risk of misunderstanding a <code>//</code> occurring in the commentary for some
other reason. All the same, you might want a different notation, so this
can be configured in the Contents page of a web, say like so:</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="element-syntax">Cross-References Notation</span><span class="plain-syntax">:</span><span class="string-syntax"> &amp;&amp;&amp;</span>
</pre>
<div class="lsmarkdown">
<p>It's also possible to disable cross-referencing entirely with:</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="element-syntax">Cross-References Notation</span><span class="plain-syntax">:</span><span class="string-syntax"> Off</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP20" class="paragraph-anchor"></a><b>&#167;20. Figures.</b>  Images to be included in weaves of a web are called &quot;Figures&quot;, as they
would be in a printed book. These images should ideally be in PNG, JPG or PDF
format and placed in a subdirectory of the web called <code>Figures</code>: for instance,
the weaver would seek <code>Fig_2_3.pdf</code> at pathname <code>Figures/Fig_2_3.pdf</code>.</p>
<p>To embed an image, we write like so:</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    = (figure mars.jpg)</span>
</pre>
<p class="center-p"><img src="mars.jpg" alt="mars.jpg"></p>

<div class="lsmarkdown">
<p>With results like so:</p>
</div>
<div class="lsmarkdown">
<p>Inweb also has some limited ability to control the dimensions of an image:</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    = (figure Whatever.jpg at width 500)</span>
<span class="plain-syntax">    = (figure Something.jpg at height 2cm)</span>
</pre>
<div class="lsmarkdown">
<p>Dimensions given in cm are scaled at 72 times dimensions given without a
measurement; in practice, rendering to TeX produces roughly the number of
centimeters asked for, and rendering to HTML makes the image width or height
correspond. If you really want to monkey with the aspect ratio,</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    = (figure Whatever.jpg at 20 by 100)</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP21" class="paragraph-anchor"></a><b>&#167;21. Carousels.</b>  A carousel is a slide-show of (usually but not always) figures; there's a
set of slides with captions, only one of which is visible at a time.</p>
</div>
<div class="carousel-container" id="carousel-no-1">
<div class="carousel-slide fading-slide" style="display: block;">
<div class="carousel-number">1 / 4</div>
<div class="carousel-content"><p class="center-p"><img src="rah.jpg" alt="rah.jpg"></p>

</div>
<div class="carousel-caption">Royal Albert Hall, London: King Crimson's 50th Anniversary Concert</div>
</div>
<div class="carousel-slide fading-slide" style="display: none;">
<div class="carousel-number">2 / 4</div>
<div class="carousel-content"><p class="center-p"><img src="brighton.jpg" alt="brighton.jpg"></p>

</div>
<div class="carousel-caption">Brighton Beach</div>
</div>
<div class="carousel-slide fading-slide" style="display: none;">
<div class="carousel-number">3 / 4</div>
<div class="carousel-content"><p class="center-p"><img src="pula.jpg" alt="pula.jpg"></p>

</div>
<div class="carousel-caption">Roman Amphitheatre, Pula</div>
</div>
<div class="carousel-slide fading-slide" style="display: none;">
<div class="carousel-number">4 / 4</div>
<div class="carousel-content"><p class="center-p"><img src="venice.jpg" alt="venice.jpg"></p>

</div>
<div class="carousel-caption">St Mark's Basilica, Venice</div>
</div>
<a class="carousel-prev-button" onclick="carouselMoveSlide(&quot;carousel-no-1&quot;, &quot;carousel-dots-no-1&quot;, -1)">&#10094;</a>
<a class="carousel-next-button" onclick="carouselMoveSlide(&quot;carousel-no-1&quot;, &quot;carousel-dots-no-1&quot;, 1)">&#10095;</a>
</div>
<div class="carousel-dots-container" id="carousel-dots-no-1">
<span class="carousel-dot carousel-dot-active" onclick="carouselSetSlide(&quot;carousel-no-1&quot;, &quot;carousel-dots-no-1&quot;, 0)"></span>
<span class="carousel-dot" onclick="carouselSetSlide(&quot;carousel-no-1&quot;, &quot;carousel-dots-no-1&quot;, 1)"></span>
<span class="carousel-dot" onclick="carouselSetSlide(&quot;carousel-no-1&quot;, &quot;carousel-dots-no-1&quot;, 2)"></span>
<span class="carousel-dot" onclick="carouselSetSlide(&quot;carousel-no-1&quot;, &quot;carousel-dots-no-1&quot;, 3)"></span>
</div>
<div class="lsmarkdown">
<p>That carousel was produced by:</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    = (carousel "Royal Albert Hall, London: King Crimson's 50th Anniversary Concert")</span>
<span class="plain-syntax">    = (figure rah.jpg)</span>
<span class="plain-syntax">    = (carousel "Brighton Beach")</span>
<span class="plain-syntax">    = (figure brighton.jpg)</span>
<span class="plain-syntax">    = (carousel "Roman Amphitheatre, Pula")</span>
<span class="plain-syntax">    = (figure pula.jpg)</span>
<span class="plain-syntax">    = (carousel "St Mark's Basilica, Venice")</span>
<span class="plain-syntax">    = (figure venice.jpg)</span>
<span class="plain-syntax">    = (carousel end)</span>
</pre>
<div class="lsmarkdown">
<p>That carousel contained only figures, but almost any material can go into the
slides, paragraph breaks excepted. For example:</p>
</div>
<div class="carousel-container" id="carousel-no-2">
<div class="carousel-slide fading-slide" style="display: block;">
<div class="carousel-caption-above">Stage 1 - Raw tree</div>
<div class="carousel-number">1 / 3</div>
<div class="carousel-content"><pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    </span><span class="function-syntax">ROOT</span><span class="plain-syntax"> ---&gt; </span><span class="function-syntax">DOCUMENT</span>
</pre>
</div>
</div>
<div class="carousel-slide fading-slide" style="display: none;">
<div class="carousel-caption-above">Stage 2 - Developed tree</div>
<div class="carousel-number">2 / 3</div>
<div class="carousel-content"><pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    </span><span class="function-syntax">ROOT</span><span class="plain-syntax"> ---&gt; </span><span class="function-syntax">DOCUMENT</span>
<span class="plain-syntax">                |</span>
<span class="plain-syntax">              </span><span class="function-syntax">NODE</span><span class="plain-syntax"> </span><span class="constant-syntax">1</span><span class="plain-syntax">  ---  </span><span class="function-syntax">NODE</span><span class="plain-syntax"> </span><span class="constant-syntax">2</span><span class="plain-syntax">  ---  </span><span class="function-syntax">NODE</span><span class="plain-syntax"> </span><span class="constant-syntax">3</span><span class="plain-syntax">  --- ...</span>
</pre>
</div>
</div>
<div class="carousel-slide fading-slide" style="display: none;">
<div class="carousel-caption-above">Stage 3 - Completed tree</div>
<div class="carousel-number">3 / 3</div>
<div class="carousel-content"><pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    </span><span class="function-syntax">ROOT</span><span class="plain-syntax"> ---&gt; </span><span class="function-syntax">DOCUMENT</span>
<span class="plain-syntax">                |</span>
<span class="plain-syntax">              </span><span class="function-syntax">NODE</span><span class="plain-syntax"> </span><span class="constant-syntax">1</span><span class="plain-syntax">  ---  </span><span class="function-syntax">NODE</span><span class="plain-syntax"> </span><span class="constant-syntax">2</span><span class="plain-syntax">  ---  </span><span class="function-syntax">NODE</span><span class="plain-syntax"> </span><span class="constant-syntax">3</span><span class="plain-syntax">  --- ...</span>
<span class="plain-syntax">                |            |            |</span>
<span class="plain-syntax">              </span><span class="element-syntax">text</span><span class="plain-syntax"> </span><span class="constant-syntax">1</span><span class="plain-syntax">       </span><span class="element-syntax">text</span><span class="plain-syntax"> </span><span class="constant-syntax">2</span><span class="plain-syntax">       </span><span class="element-syntax">text</span><span class="plain-syntax"> </span><span class="constant-syntax">3</span><span class="plain-syntax">  ...</span>
</pre>
</div>
</div>
<a class="carousel-prev-button" onclick="carouselMoveSlide(&quot;carousel-no-2&quot;, &quot;carousel-dots-no-2&quot;, -1)">&#10094;</a>
<a class="carousel-next-button" onclick="carouselMoveSlide(&quot;carousel-no-2&quot;, &quot;carousel-dots-no-2&quot;, 1)">&#10095;</a>
</div>
<div class="carousel-dots-container" id="carousel-dots-no-2">
<span class="carousel-dot carousel-dot-active" onclick="carouselSetSlide(&quot;carousel-no-2&quot;, &quot;carousel-dots-no-2&quot;, 0)"></span>
<span class="carousel-dot" onclick="carouselSetSlide(&quot;carousel-no-2&quot;, &quot;carousel-dots-no-2&quot;, 1)"></span>
<span class="carousel-dot" onclick="carouselSetSlide(&quot;carousel-no-2&quot;, &quot;carousel-dots-no-2&quot;, 2)"></span>
</div>
<div class="lsmarkdown">
<p>This carousel has differently placed captions, too: that's because the
slide lines were typed as:</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    = (carousel "Stage 2 - Developed tree" above)</span>
</pre>
<div class="lsmarkdown">
<p>and the like. By default, a caption overlaps slightly with the content; but
it can also be <code>above</code> or <code>below</code>. A slide can also have no caption at all:</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    = (carousel)</span>
<span class="plain-syntax">    = (figure anonymous.jpg)</span>
<span class="plain-syntax">    = (carousel)</span>
<span class="plain-syntax">    = (figure furtive.jpg)</span>
<span class="plain-syntax">    = (carousel end)</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP22" class="paragraph-anchor"></a><b>&#167;22. Video and audio.</b>  To include audio samples, place them as MP3 files in the subdirectory <code>Audio</code>
of the web. For example, in the present web,</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    = (audio SP014.mp3)</span>
</pre>
<p class="center-p"><audio controls>
<source src="SP014.mp3" type="audio/mpeg">
Your browser does not support the audio element.
</audio>
</p>

<div class="lsmarkdown">
<p>produces Space Patrol episode 14, from 1953: &quot;Brain Bank And Space Binoculars&quot; --</p>
</div>
<div class="lsmarkdown">
<p>Similarly,</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    = (video DW014.mp4)</span>
</pre>
<div class="lsmarkdown">
<p>produces Doctor Who episode 14, from 1963: &quot;The Roof of the World&quot;. Still, video
takes up space, so for economy's sake a demonstration is omitted from this manual.</p>
</div>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP23" class="paragraph-anchor"></a><b>&#167;23. Embedded video and audio.</b>  One way to get around such space limitations is to embed players for video or
audio hosted on some external service. For example:</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    = (embedded YouTube video GR3aImy7dWw)</span>
</pre>
<p class="center-p"><iframe width="720" height="405" src="https://www.youtube.com/embed/GR3aImy7dWw" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

</p>

<div class="lsmarkdown">
<p>With results like so:</p>
</div>
<div class="lsmarkdown">
<p>The YouTube ID number <code>GR3aImy7dWw</code> can be read from its Share URL, which in
this case was <code>https://youtu.be/GR3aImy7dWw</code>.</p>
<p>Similarly for Vimeo:</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    = (embedded Vimeo video 204519)</span>
</pre>
<p class="center-p"><iframe src="https://player.vimeo.com/video/204519" width="720" height="405" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>

</p>

<div class="lsmarkdown">
<p>With results like so:</p>
</div>
<div class="lsmarkdown">
<p>For audio, you may like to try SoundCloud:</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    = (embedded SoundCloud audio 42803139)</span>
</pre>
<p class="center-p"><iframe width="100%" height="405" scrolling="no" frameborder="no" allow="autoplay" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/42803139&color=%23ff5500&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true&visual=true"></iframe>
</p>

<div class="lsmarkdown">
<p>With results like so:</p>
</div>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP24" class="paragraph-anchor"></a><b>&#167;24. </b>  Adding width and height is straightforward; by default the dimensions are
720 by 405.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    = (embedded Vimeo video 204519 at 400 by 300)</span>
<span class="plain-syntax">    = (embedded SoundCloud audio 42803139 at height 200)</span>
</pre>
<div class="lsmarkdown">
<p>The latter sets just the height (of the displayed waveform, that is --
arguably music has width and not height, but SoundCloud thinks otherwise).</p>
</div>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP25" class="paragraph-anchor"></a><b>&#167;25. Downloads.</b>  Occasional small downloads may be useful as a way to present examples to
try with a program being documented. These are very simple:</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    = (download alice.crt "certificate file")</span>
</pre>
<div class="download-container">
	<p>
		<a href="alice.crt" download>
			<button class="download-button">
				<img src="../docs-assets/download.png" alt="download icon" height=16 width=16>
				Download <b>alice.crt</b> (certificate file, 7.2kB)
			</button>
		</a>
	</p>
</div>


<div class="lsmarkdown">
<p>produces:</p>
</div>
<div class="lsmarkdown">
<p>The file to download, in this case <code>alice.crt</code>, must be placed in a <code>Downloads</code>
subdirectory of the web. The explanatory text -- usually just an indication
of what sort of file this is -- is optional.</p>
</div>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP26" class="paragraph-anchor"></a><b>&#167;26. Raw HTML snippets.</b>  Finally, it's possible to include a chunk of raw HTML code, though of course
this will only be viewable if the web is being woven to HTML.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    = (html fireworks.html)</span>
</pre>
<div class="lsmarkdown">
<p>incorporates the contents of the file from the subdirectory <code>HTML</code> of the web.</p>
</div>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP27" class="paragraph-anchor"></a><b>&#167;27. Mathematics notation.</b>  Literate programming is a good technique to justify code which hangs on
unobvious pieces of mathematics or computer science, and which must therefore
be explained carefully. Formulae or equations are a real convenience for that.</p>
<p>For example, it's known that the average running time of Euclid's GCD
algorithm on \INWEBMATH(a\INWEBMATH) and numbers coprime to \INWEBMATH(a\INWEBMATH) is:
$$ \tau (a)={\frac {12}{\pi ^{2}}}\ln 2\ln a+C+O(a^{-1/6-\varepsilon }) $$
where \INWEBMATH(C\INWEBMATH) is Porter's constant,
$$ C=-{\frac {1}{2}}+{\frac {6\ln 2}{\pi ^{2}}}\left(4\gamma - {\frac {24}{\pi ^{2}}}\zeta'(2)+3\ln 2-2\right)\approx 1.467 $$
which involves evaluating Euler's constant \INWEBMATH(\gamma\INWEBMATH) and the first derivative
of the Riemann zeta function \INWEBMATH(\zeta'(z)\INWEBMATH) at \INWEBMATH(z=2\INWEBMATH).</p>
<p>That passage was achieved by typing this as the Inweb source:</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    For example, it's known that the average running time of Euclid's GCD</span>
<span class="plain-syntax">    </span><span class="element-syntax">algorithm on $a$ and numbers coprime to $a$ is</span><span class="plain-syntax">:</span>
<span class="plain-syntax">    $$ \tau (a)={\frac {12}{\pi ^{2}}}\ln 2\ln a+C+O(a^{-1/6-\varepsilon }) $$</span>
<span class="plain-syntax">    where $C$ is Porter's constant,</span>
<span class="plain-syntax">    $$ C=-{\frac {1}{2}}+{\frac {6\ln 2}{\pi ^{2}}} \left(4\gamma - {\frac {24}{\pi^{2}}}\zeta'(2)+3\ln 2-2\right)\approx 1.467 $$</span>
<span class="plain-syntax">    which involves evaluating Euler's constant $\gamma$ and the first derivative</span>
<span class="plain-syntax">    of the Riemann zeta function $\zeta'(z)$ at $z=2$.</span>
</pre>
<div class="lsmarkdown">
<p>Mathematical formulae is typed in TeX notation between dollar signs,
as usual for TeX formulae. If those notations are inconvenient, they can be
changed. The defaults are:</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    </span><span class="element-syntax">TeX Mathematics Notation</span><span class="plain-syntax">:</span><span class="string-syntax"> $</span>
<span class="plain-syntax">    </span><span class="element-syntax">TeX Mathematics Displayed Notation</span><span class="plain-syntax">:</span><span class="string-syntax"> $$</span>
</pre>
<div class="lsmarkdown">
<p>Changing these to <code>None</code> causes Inweb to disregard mathematics entirely, and
treat it as any other text would be treated.</p>
</div>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP28" class="paragraph-anchor"></a><b>&#167;28. Footnotes.</b>  Not everyone likes footnotes,<sup id="fnred:1"><a href="#fn:1" rel="footnote">1</a></sup> but sometimes they're a tidy way to make
references.<sup id="fnred:2"><a href="#fn:2" rel="footnote">2</a></sup></p>
<ul class="inwebfootnotetexts"><li class="footnote" id="fn:1"><p class="inwebfootnote"><sup id="fnref:1"><a href="#fn:1" rel="footnote">1</a></sup>
But see Anthony Grafton, &quot;The Footnote: A Curious History&quot; (Harvard
University Press, 1999).<a href="#fnref:1" title="return to text"> &#x21A9;</a></p>
</li>
<li class="footnote" id="fn:2"><p class="inwebfootnote"><sup id="fnref:2"><a href="#fn:2" rel="footnote">2</a></sup>
For example, to cite Donald Knuth, &quot;Evaluation of Porter's constant&quot;,
Computers &amp; Mathematics with Applications, 2, 137-39 (1976).<a href="#fnref:2" title="return to text"> &#x21A9;</a></p>
</li></ul>
</div>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP29" class="paragraph-anchor"></a><b>&#167;29. </b>  The content of that sentence was typed as follows:</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    Not everyone likes footnotes,[1] but sometimes they're a tidy way to make</span>
<span class="plain-syntax">    references.[2]</span>

<span class="plain-syntax">    </span><span class="identifier-syntax">[1]</span><span class="plain-syntax"> But see Anthony Grafton, "The Footnote: A Curious History" (Harvard</span>
<span class="plain-syntax">    University Press, 1999).</span>
<span class="plain-syntax">    </span><span class="identifier-syntax">[2]</span><span class="plain-syntax"> For example, to cite Donald Knuth, "Evaluation of Porter's constant",</span>
<span class="plain-syntax">    Computers &amp; Mathematics with Applications, 2, 137-39 (1976).</span>
</pre>
<div class="lsmarkdown">
<p>Note that footnotes should be numbered upwards from 1 in each individual
paragraph; Inweb automatically renumbers them for each woven section, but
we don't have to worry about that when typing.</p>
<p>If you're reading this as a web page (with Javascript on), then you should
have seen clickable footnote blobs, which reveal the text. If Javascript is
off, there's a more conventionally textual presentation.</p>
<p>Once again, notation may be an issue, and so it's controllable. By default,
we have:</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    </span><span class="element-syntax">Footnote Begins Notation</span><span class="plain-syntax">:</span><span class="string-syntax"> [</span>
<span class="plain-syntax">    </span><span class="element-syntax">Footnote Ends Notation</span><span class="plain-syntax">:</span><span class="string-syntax"> ]</span>
</pre>
<div class="lsmarkdown">
<p>but if you need squares for something else in your commentary, then perhaps:</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    </span><span class="element-syntax">Footnote Begins Notation</span><span class="plain-syntax">:</span><span class="string-syntax"> [fn</span>
<span class="plain-syntax">    </span><span class="element-syntax">Footnote Ends Notation</span><span class="plain-syntax">:</span><span class="string-syntax"> ]</span>
</pre>
<div class="lsmarkdown">
<p>would be sensible. The &quot;cue&quot; between these notations is required to be a
string of digits; each must occur just once in its section; and each must
have a text and a cue which match up correctly.</p>
</div>
<nav role="progress"><div class="progresscontainer">
    <ul class="progressbar"><li class="progressprev"><a href="M-wtaw.html">&#10094;</a></li><li class="progresscurrentchapter">M</li><li class="progresssection"><a href="M-iti.html">iti</a></li><li class="progresssection"><a href="M-wtaw.html">wtaw</a></li><li class="progresscurrent">htwaw</li><li class="progresssection"><a href="M-mwiw.html">mwiw</a></li><li class="progresssection"><a href="M-awwp.html">awwp</a></li><li class="progresssection"><a href="M-spl.html">spl</a></li><li class="progresssection"><a href="M-tid.html">tid</a></li><li class="progresssection"><a href="M-rc.html">rc</a></li><li class="progresschapter"><a href="P-htpw.html">P</a></li><li class="progresschapter"><a href="1-pc.html">1</a></li><li class="progressnext"><a href="M-mwiw.html">&#10095;</a></li></ul></div>
</nav><!-- End of weave -->

		</main>
	</body>
</html>

